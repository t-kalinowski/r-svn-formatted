<html lang="en">
<head>
<title>R FAQ</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="R FAQ">
<meta name=generator content="makeinfo 4.0b">
<link href="http://texinfo.org/" rel=generator-home>
</head>

<body>
<p><hr>
Node:<a name="Top">Top</a>,
Next:<a rel=next href="#Introduction">Introduction</a>
<br>

<h1>R FAQ</h1>

<h2>Frequently Asked Questions on R</h2>
<h2>Version 1.4-0, 2001-12-17</h2>
<address>Kurt Hornik</address>
<p><p><hr><p>

<ul>
<li><a href="#Introduction">Introduction</a>: 
<li><a href="#R%20Basics">R Basics</a>: 
<li><a href="#R%20and%20S">R and S</a>: 
<li><a href="#R%20Web%20Interfaces">R Web Interfaces</a>: 
<li><a href="#R%20Add-On%20Packages">R Add-On Packages</a>: 
<li><a href="#R%20and%20Emacs">R and Emacs</a>: 
<li><a href="#R%20Miscellanea">R Miscellanea</a>: 
<li><a href="#R%20Programming">R Programming</a>: 
<li><a href="#R%20Bugs">R Bugs</a>: 
<li><a href="#Acknowledgments">Acknowledgments</a>: 
</ul>

<p><hr>
Node:<a name="Introduction">Introduction</a>,
Next:<a rel=next href="#R%20Basics">R Basics</a>,
Previous:<a rel=previous href="#Top">Top</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>1 Introduction</h1>

<p>This document contains answers to some of the most frequently asked
questions about R.

<ul>
<li><a href="#Legalese">Legalese</a>: 
<li><a href="#Obtaining%20this%20document">Obtaining this document</a>: 
<li><a href="#Citing%20this%20document">Citing this document</a>: 
<li><a href="#Notation">Notation</a>: 
<li><a href="#Feedback">Feedback</a>: 
</ul>

<p><hr>
Node:<a name="Legalese">Legalese</a>,
Next:<a rel=next href="#Obtaining%20this%20document">Obtaining this document</a>,
Previous:<a rel=previous href="#Introduction">Introduction</a>,
Up:<a rel=up href="#Introduction">Introduction</a>
<br>

<h2>1.1 Legalese</h2>

<p>This document is free software; you can redistribute it and/or modify it
under the terms of the <small>GNU</small> General Public License as published
by the Free Software Foundation; either version 2, or (at your option)
any later version.

<p>This document is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<small>GNU</small> General Public License for more details.

<p>A copy of the <small>GNU</small> General Public License is available via WWW
at

<pre><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a>.
</pre>

<p>You can also obtain it by writing to the Free Software Foundation, Inc.,
59 Temple Place -- Suite 330, Boston, MA 02111-1307, USA.

<p><hr>
Node:<a name="Obtaining%20this%20document">Obtaining this document</a>,
Next:<a rel=next href="#Citing%20this%20document">Citing this document</a>,
Previous:<a rel=previous href="#Legalese">Legalese</a>,
Up:<a rel=up href="#Introduction">Introduction</a>
<br>

<h2>1.2 Obtaining this document</h2>

<p>The latest version of this document is always available from

<pre><a href="http://www.ci.tuwien.ac.at/~hornik/R/">http://www.ci.tuwien.ac.at/~hornik/R/</a>
</pre>

<p>From there, you can obtain versions converted to
<a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.txt">plain <small>ASCII</small> text</a>,
<a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.dvi.gz">DVI</a>,
<a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.info.gz"><small>GNU</small> info</a>, <a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html"><small>HTML</small></a>,
<a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.pdf">PDF</a>,
<a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.ps.gz">PostScript</a> as
well as the <a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.texi">Texinfo source</a> used for creating all these formats using the
<a href="http://texinfo.org/"><small>GNU</small> Texinfo system</a>.

<p>You can also obtain the R <small>FAQ</small> from the <code>doc/FAQ</code>
subdirectory of a <small>CRAN</small> site (see <a href="#What%20is%20CRAN%3f">What is CRAN?</a>).

<p><hr>
Node:<a name="Citing%20this%20document">Citing this document</a>,
Next:<a rel=next href="#Notation">Notation</a>,
Previous:<a rel=previous href="#Obtaining%20this%20document">Obtaining this document</a>,
Up:<a rel=up href="#Introduction">Introduction</a>
<br>

<h2>1.3 Citing this document</h2>

<p>In publications, please refer to this <small>FAQ</small> as Hornik
(2001), "The R <small>FAQ</small>" and give the above,
<em>official</em> <small>URL</small>.

<p><hr>
Node:<a name="Notation">Notation</a>,
Next:<a rel=next href="#Feedback">Feedback</a>,
Previous:<a rel=previous href="#Citing%20this%20document">Citing this document</a>,
Up:<a rel=up href="#Introduction">Introduction</a>
<br>

<h2>1.4 Notation</h2>

<p>Everything should be pretty standard.  <code>R&gt;</code> is used for the R
prompt, and a <code>$</code> for the shell prompt (where applicable).

<p><hr>
Node:<a name="Feedback">Feedback</a>,
Previous:<a rel=previous href="#Notation">Notation</a>,
Up:<a rel=up href="#Introduction">Introduction</a>
<br>

<h2>1.5 Feedback</h2>

<p>Feedback is of course most welcome.

<p>In particular, note that I do not have access to Windows or Mac systems. 
Features specific to the Windows and Mac OS ports of R are described in
the <a href="http://www.stats.ox.ac.uk/pub/R/rw-FAQ.html">"R for Windows <small>FAQ</small>"</a> and the
<a href="http://www.eco-dip.unimi.it/R/rmac-FAQ.html">"R for Macintosh <small>FAQ</small>/DOC"</a>.  If you have information on Mac or Windows systems
that you think should be added to this document, please let me know.

<p><hr>
Node:<a name="R%20Basics">R Basics</a>,
Next:<a rel=next href="#R%20and%20S">R and S</a>,
Previous:<a rel=previous href="#Introduction">Introduction</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>2 R Basics</h1>

<ul>
<li><a href="#What%20is%20R%3f">What is R?</a>: 
<li><a href="#What%20machines%20does%20R%20run%20on%3f">What machines does R run on?</a>: 
<li><a href="#What%20is%20the%20current%20version%20of%20R%3f">What is the current version of R?</a>: 
<li><a href="#How%20can%20R%20be%20obtained%3f">How can R be obtained?</a>: 
<li><a href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>: 
<li><a href="#Are%20there%20Unix%20binaries%20for%20R%3f">Are there Unix binaries for R?</a>: 
<li><a href="#What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>: 
<li><a href="#Citing%20R">Citing R</a>: 
<li><a href="#What%20mailing%20lists%20exist%20for%20R%3f">What mailing lists exist for R?</a>: 
<li><a href="#What%20is%20CRAN%3f">What is CRAN?</a>: 
<li><a href="#Can%20I%20use%20R%20for%20commercial%20purposes%3f">Can I use R for commercial purposes?</a>: 
</ul>

<p><hr>
Node:<a name="What%20is%20R%3f">What is R?</a>,
Next:<a rel=next href="#What%20machines%20does%20R%20run%20on%3f">What machines does R run on?</a>,
Previous:<a rel=previous href="#R%20Basics">R Basics</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.1 What is R?</h2>

<p>R is a system for statistical computation and graphics.  It consists of
a language plus a run-time environment with graphics, a debugger, access
to certain system functions, and the ability to run programs stored in
script files.

<p>The design of R has been heavily influenced by two existing languages:
Becker, Chambers &amp; Wilks' S (see <a href="#What%20is%20S%3f">What is S?</a>) and Sussman's
<a href="http://www.cs.indiana.edu/scheme-repository/home.html">Scheme</a>. 
Whereas the resulting language is very similar in appearance to S, the
underlying implementation and semantics are derived from Scheme. 
See <a href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>, for further details.

<p>The core of R is an interpreted computer language which allows branching
and looping as well as modular programming using functions.  Most of the
user-visible functions in R are written in R.  It is possible for the
user to interface to procedures written in the C, C++, or FORTRAN
languages for efficiency.  The R distribution contains functionality for
a large number of statistical procedures.  Among these are: linear and
generalized linear models, nonlinear regression models, time series
analysis, classical parametric and nonparametric tests, clustering and
smoothing.  There is also a large set of functions which provide a
flexible graphical environment for creating various kinds of data
presentations.  Additional modules ("add-on packages") are available
for a variety of specific purposes (see <a href="#R%20Add-On%20Packages">R Add-On Packages</a>).

<p>R was initially written by <a href="mailto:Ross.Ihaka@r-project.org">Ross Ihaka</a>
and <a href="mailto:Robert.Gentleman@r-project.org">Robert Gentleman</a> at the
Department of Statistics of the University of Auckland in Auckland, New
Zealand.  In addition, a large group of individuals has contributed to R
by sending code and bug reports.

<p>Since mid-1997 there has been a core group (the "R Core Team") who can
modify the R source code CVS archive.  The group currently consists of
Doug Bates, John Chambers, Peter Dalgaard, Robert Gentleman, Kurt
Hornik, Stefano Iacus, Ross Ihaka, Friedrich Leisch, Thomas Lumley,
Martin Maechler, Guido Masarotto, Paul Murrell, Brian Ripley, Duncan
Temple Lang, and Luke Tierney.

<p>R has a home page at <a href="http://www.r-project.org/">http://www.r-project.org/</a>.  It is free
software distributed under a <small>GNU</small>-style copyleft, and an
official part of the <small>GNU</small> project ("<small>GNU</small> S").

<p><hr>
Node:<a name="What%20machines%20does%20R%20run%20on%3f">What machines does R run on?</a>,
Next:<a rel=next href="#What%20is%20the%20current%20version%20of%20R%3f">What is the current version of R?</a>,
Previous:<a rel=previous href="#What%20is%20R%3f">What is R?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.2 What machines does R run on?</h2>

<p>R is being developed for the Unix, Windows and Mac families of operating
systems.

<p>The current version of R will configure and build under a number of
common Unix platforms including i386-freebsd, i386-linux-gnu,
i386-sun-solaris, powerpc-linux-gnu, powerpc-apple-darwin,
mips-sgi-irix, alpha-linux-gnu, alpha-dec-osf4, rs6000-ibm-aix,
hppa-hp-hpux, sparc-linux-gnu, and sparc-sun-solaris.

<p>If you know about other platforms, please drop us a note.

<p><hr>
Node:<a name="What%20is%20the%20current%20version%20of%20R%3f">What is the current version of R?</a>,
Next:<a rel=next href="#How%20can%20R%20be%20obtained%3f">How can R be obtained?</a>,
Previous:<a rel=previous href="#What%20machines%20does%20R%20run%20on%3f">What machines does R run on?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.3 What is the current version of R?</h2>

<p>The current released version is 1.4.0.  Conforming to this
`major.minor.patchlevel' numbering scheme, there are three development
versions of R, working towards the next patch (`r-patched'), minor
(`r-devel'), and major (`r-ng') releases of R, respectively.  Version
r-patched is for bug fixes mostly.  New features are typically
introduced in r-devel.  Version r-ng will eventually become the next
generation of R.

<p><hr>
Node:<a name="How%20can%20R%20be%20obtained%3f">How can R be obtained?</a>,
Next:<a rel=next href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>,
Previous:<a rel=previous href="#What%20is%20the%20current%20version%20of%20R%3f">What is the current version of R?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.4 How can R be obtained?</h2>

<p>Sources, binaries and documentation for R can be obtained via
<small>CRAN</small>, the "Comprehensive R Archive Network" (see <a href="#What%20is%20CRAN%3f">What is CRAN?</a>).

<p>Sources are also available via anonymous rsync.  Use

<pre>rsync -rC rsync.r-project.org::<var>module</var> R
</pre>

<p>to create a copy of the source tree specified by <var>module</var> in the
subdirectory <code>R</code> of the current directory, where <var>module</var>
specifies one of the four existing flavors of the R sources, and can be
one of <code>r-release</code> (current released version), <code>r-patched</code>
(patched released version), and <code>r-devel</code> (development version,
less stable), and <code>r-ng</code> (next generation, unstable).  The rsync
trees are created directly from the master CVS archive and are updated
hourly.  The <code>-C</code> option in the <code>rsync</code> command is to
cause it to skip the CVS directories.  Further information on
<code>rsync</code> is available at <a href="http://rsync.samba.org/rsync/">http://rsync.samba.org/rsync/</a>.

<p><hr>
Node:<a name="How%20can%20R%20be%20installed%3f">How can R be installed?</a>,
Next:<a rel=next href="#Are%20there%20Unix%20binaries%20for%20R%3f">Are there Unix binaries for R?</a>,
Previous:<a rel=previous href="#How%20can%20R%20be%20obtained%3f">How can R be obtained?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.5 How can R be installed?</h2>

<ul>
<li><a href="#How%20can%20R%20be%20installed%20(Unix)">How can R be installed (Unix)</a>: 
<li><a href="#How%20can%20R%20be%20installed%20(Windows)">How can R be installed (Windows)</a>: 
<li><a href="#How%20can%20R%20be%20installed%20(Macintosh)">How can R be installed (Macintosh)</a>: 
</ul>

<p><hr>
Node:<a name="How%20can%20R%20be%20installed%20(Unix)">How can R be installed (Unix)</a>,
Next:<a rel=next href="#How%20can%20R%20be%20installed%20(Windows)">How can R be installed (Windows)</a>,
Previous:<a rel=previous href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>,
Up:<a rel=up href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>
<br>

<h3>2.5.1 How can R be installed (Unix)</h3>

<p>If binaries are available for your platform (see <a href="#Are%20there%20Unix%20binaries%20for%20R%3f">Are there Unix binaries for R?</a>), you can use these, following the instructions that
come with them.

<p>Otherwise, you can compile and install R yourself, which can be done
very easily under a number of common Unix platforms (see <a href="#What%20machines%20does%20R%20run%20on%3f">What machines does R run on?</a>).  The file <code>INSTALL</code> that comes with the
R distribution contains a brief introduction, and the "R Installation
and Administration" guide (see <a href="#What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>)
has full details.

<p>Note that you need a FORTRAN compiler or <code>f2c</code> in addition to
a C compiler to build R.  Also, you need Perl version 5 to build the R
object documentations.  (If this is not available on your system, you
can obtain a PDF version of the object reference manual via
<small>CRAN</small>.)

<p>In the simplest case, untar the R source code, change to the directory
thus created, and issue the following commands (at the shell prompt):

<pre>$ ./configure
$ make
</pre>

<p>If these commands execute successfully, the R binary and a shell script
font-end called <code>R</code> are created and copied to the <code>bin</code>
directory.  You can copy the script to a place where users can invoke
it, for example to <code>/usr/local/bin</code>.  In addition, plain text help
pages as well as <small>HTML</small> and LaTeX versions of the documentation are
built.

<p>Use <kbd>make dvi</kbd> to create DVI versions of the R manuals, such as
<code>refman.dvi</code> (an R object reference index) and <code>R-exts.dvi</code>,
the "R Extension Writers Guide", in the <code>doc/manual</code>
subdirectory.  These files can be previewed and printed using standard
programs such as <code>xdvi</code> and <code>dvips</code>.  You can also use
<kbd>make pdf</kbd> to build PDF (Portable Document Format) version of the
manuals, and view these using e.g. Acrobat.  Manuals written in the
<small>GNU</small> Texinfo system can also be converted to info files
suitable for reading online with Emacs or stand-alone <small>GNU</small>
Info; use <kbd>make info</kbd> to create these versions (note that this
requires <code>makeinfo</code> version 4).

<p>Finally, use <kbd>make check</kbd> to find out whether your R system works
correctly.

<p>You can also perform a "system-wide" installation using <kbd>make
install</kbd>.  By default, this will install to the following directories:

<dl>
<dt><code>${prefix}/bin</code>
<dd>the front-end shell script
<br><dt><code>${prefix}/man/man1</code>
<dd>the man page
<br><dt><code>${prefix}/lib/R</code>
<dd>all the rest (libraries, on-line help system, <small>...</small>).  This is the "R
Home Directory" (<code>R_HOME</code>) of the installed system. 
</dl>

<p>In the above, <code>prefix</code> is determined during configuration
(typically <code>/usr/local</code>) and can be set by running
<code>configure</code> with the option

<pre>$ ./configure --prefix=/where/you/want/R/to/go
</pre>

<p>(E.g., the R executable will then be installed into
<code>/where/you/want/R/to/go/bin</code>.)

<p>To install DVI, info and PDF versions of the manuals, use <kbd>make
install-dvi</kbd>, <kbd>make install-info</kbd> and <kbd>make install-pdf</kbd>,
respectively.

<p><hr>
Node:<a name="How%20can%20R%20be%20installed%20(Windows)">How can R be installed (Windows)</a>,
Next:<a rel=next href="#How%20can%20R%20be%20installed%20(Macintosh)">How can R be installed (Macintosh)</a>,
Previous:<a rel=previous href="#How%20can%20R%20be%20installed%20(Unix)">How can R be installed (Unix)</a>,
Up:<a rel=up href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>
<br>

<h3>2.5.2 How can R be installed (Windows)</h3>

<p>The <code>bin/windows</code> directory of a <small>CRAN</small> site contains
binaries for a base distribution and a large number of add-on packages
from <small>CRAN</small> to run on Windows 95, 98, NT4, 2000 and ME (at
least) on Intel and clones (but not on other platforms).  The Windows
version of R was created by Robert Gentleman, and is now being developed
and maintained by <a href="mailto:Guido.Masarotto@r-project.org">Guido Masarotto</a> and <a href="mailto:Brian.Ripley@r-project.org">Brian D. Ripley</a>.

<p>For most installations the installer <code>SetupR.exe</code> will be the
easiest tool to use.

<p>See the <a href="http://www.stats.ox.ac.uk/pub/R/rw-FAQ.html">"R for Windows <small>FAQ</small>"</a> for more details.

<p><hr>
Node:<a name="How%20can%20R%20be%20installed%20(Macintosh)">How can R be installed (Macintosh)</a>,
Previous:<a rel=previous href="#How%20can%20R%20be%20installed%20(Windows)">How can R be installed (Windows)</a>,
Up:<a rel=up href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>
<br>

<h3>2.5.3 How can R be installed (Macintosh)</h3>

<p>The <code>bin/macos</code> directory of a <small>CRAN</small> site contains
bin-hexed (<code>hqx</code>) and stuffit (<code>sit</code>) archives for a base
distribution and a large number of add-on packages to run under MacOS
8.6 to MacOS 9.1 or MacOS X natively.  The Mac version of R and the Mac
binaries are maintained by
<a href="mailto:Stefano.Iacus@r-project.org">Stefano Iacus</a>.

<p>The <a href="http://www.eco-dip.unimi.it/R/rmac-FAQ.html">"R for Macintosh <small>FAQ</small>/DOC"</a> has more details.

<p>Binaries of base distributions for MacOS X (Darwin) with X11 are made
available by <a href="mailto:deleeuw@stat.ucla.edu">Jan de Leeuw</a> in the
<code>bin/macosx</code> directory of a <small>CRAN</small> site.

<p><hr>
Node:<a name="Are%20there%20Unix%20binaries%20for%20R%3f">Are there Unix binaries for R?</a>,
Next:<a rel=next href="#What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>,
Previous:<a rel=previous href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.6 Are there Unix binaries for R?</h2>

<p>The <code>bin/linux</code> directory of a <small>CRAN</small> site contains Debian
potato/woody packages for the i386 platform (now part of the Debian
distribution and maintained by Dirk Eddelbuettel), Red Hat 6.x i386, 7.x
i386 and 7.x alpha packages (maintained by Stephen Eglen, Martyn Plummer
and Naoki Takebayashi, respectively), SuSE 7.2 i386 packages by Albrecht
Gebhardt, Mandrake 8.1 and 7.2 i386 packages by Michele Alzetta and
Maximino Ameneiro Gomez, and LinuxPPC 5.0 RPMs by Alex Buerkle.

<p>The Debian packages can be accessed through APT, the Debian package
maintenance tool.  Simply add the line

<pre>deb http://cran.r-project.org/bin/linux/debian <var>distribution</var> main
</pre>

<p>(where <var>distribution</var> is either <code>stable</code> or <code>unstable</code>;
feel free to use a <small>CRAN</small> mirror instead of the master) to the
file <code>/etc/apt/sources.list</code>.  Once you have added that line the
programs <code>apt-get</code>, <code>apt-cache</code>, and <code>dselect</code>
(using the apt access method) will automatically detect and install
updates of the R packages.

<p>The <code>bin/osf</code> directory of a <small>CRAN</small> site contains RPMs by
Albrecht Gebhardt for alpha systems running Alpha Unix (OSF/Tru64).

<p>No other binary distributions have thus far been made publically
available.

<p><hr>
Node:<a name="What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>,
Next:<a rel=next href="#Citing%20R">Citing R</a>,
Previous:<a rel=previous href="#Are%20there%20Unix%20binaries%20for%20R%3f">Are there Unix binaries for R?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.7 What documentation exists for R?</h2>

<p>Online documentation for most of the functions and variables in R
exists, and can be printed on-screen by typing <kbd>help(<var>name</var>)</kbd>
(or <kbd>?<var>name</var></kbd>) at the R prompt, where <var>name</var> is the name of
the topic help is sought for.  (In the case of unary and binary
operators and control-flow special forms, the name may need to be be
quoted.)

<p>This documentation can also be made available as one reference manual
for on-line reading in <small>HTML</small> and PDF formats, and as hardcopy via
LaTeX, see <a href="#How%20can%20R%20be%20installed%3f">How can R be installed?</a>.  An up-to-date <small>HTML</small>
version is always available for web browsing at
<a href="http://stat.ethz.ch/R/manual/">http://stat.ethz.ch/R/manual/</a>.

<p>The R distribution also comes with the following manuals.

<ul>
<li>"An Introduction to R" (<code>R-intro</code>)
includes information on data types, programming elements, statistical
modeling and graphics.  This document is based on the "Notes on
<small>S-PLUS</small>" by Bill Venables and David Smith. 
<li>"Writing R Extensions" (<code>R-exts</code>)
currently describes the process of creating R add-on packages, writing R
documentation, R's system and foreign language interfaces, and the R
<small>API</small>. 
<li>"R Data Import/Export" (<code>R-data</code>)
is a guide to importing and exporting data to and from R. 
<li>"The R Language Definition" (<code>R-lang</code>),
a first version of the "Kernighan &amp; Ritchie of R", explains
evaluation, parsing, object oriented programming, computing on the
language, and so forth. 
<li>"R Installation and Administration" (<code>R-admin</code>). 
</ul>

<p>In addition to material written specifically for R, documentation for
S/<small>S-PLUS</small> (see <a href="#R%20and%20S">R and S</a>) can be used in combination with this
<small>FAQ</small> (see <a href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>).  We
recommend

<blockquote>
W. N. Venables and B. D. Ripley (1999), "Modern Applied Statistics with
<small>S-PLUS</small>.  Third Edition".  Springer, ISBN 0-387-98825-4. 
</blockquote>

<p>This has a home page at <a href="http://www.stats.ox.ac.uk/pub/MASS3/">http://www.stats.ox.ac.uk/pub/MASS3/</a>
providing additional material, in particular "R Complements" which
describe how to use the book with R.  These complements contain both
descriptions of some of the differences between R and <small>S-PLUS</small>, and the
modifications needed to run the examples in the book.  Its companion is

<blockquote>
W. N. Venables and B. D. Ripley (2000), "S Programming".  Springer,
ISBN 0-387-98966-8. 
</blockquote>

<p>This provides an in-depth guide to writing software in the S language
which forms the basis of both the commercial <small>S-PLUS</small> and the Open
Source R data analysis software systems.  See
<a href="http://www.stats.ox.ac.uk/pub/MASS3/Sprog/">http://www.stats.ox.ac.uk/pub/MASS3/Sprog/</a> for more information.

<p>More introductory books are

<blockquote>
P. Spector (1994), "An introduction to S and <small>S-PLUS</small>", Duxbury Press.

<p>A. Krause and M. Olsen (1997), "The Basics of S and <small>S-PLUS</small>",
Springer. 
</blockquote>

<p>The book

<blockquote>
J. C. Pinheiro and D. M. Bates (2000), "Mixed-Effects Models in S and
<small>S-PLUS</small>", Springer, ISBN 0-387-98957-0
</blockquote>

<p>provides a comprehensive guide to the use of the <strong>nlme</strong> package
for linear and nonlinear mixed-effects models.  This has a home page at
<a href="http://nlme.stat.wisc.edu/MEMSS/">http://nlme.stat.wisc.edu/MEMSS/</a>.

<p>As an example of how R can be used in teaching an advanced introductory
statistics course, see

<blockquote>
D. Nolan and T. Speed (2000), "Stat Labs: Mathematical Statistics
Through Applications", Springer Texts in Statistics, ISBN
0-387-98974-9
</blockquote>

<p>This integrates theory of statistics with the practice of statistics
through a collection of case studies ("labs"), and uses R to analyze
the data.  More information can be found at
<a href="http://www.stat.Berkeley.EDU/users/statlabs/">http://www.stat.Berkeley.EDU/users/statlabs/</a>.

<p>Last, but not least, Ross' and Robert's experience in designing and
implementing R is described in Ihaka &amp; Gentleman (1996), "R: A Language
for Data Analysis and Graphics",
<a href="http://www.amstat.org/publications/jcgs/"><em>Journal of Computational and Graphical Statistics</em></a>, <strong>5</strong>, 299-314. 
See <a href="#Citing%20R">Citing R</a>.

<p>An annotated bibliography (BibTeX format) of R-related publications
which includes most of the above references can be found at

<pre><a href="http://www.r-project.org/doc/bib/R.bib">http://www.r-project.org/doc/bib/R.bib</a>
</pre>

<p><hr>
Node:<a name="Citing%20R">Citing R</a>,
Next:<a rel=next href="#What%20mailing%20lists%20exist%20for%20R%3f">What mailing lists exist for R?</a>,
Previous:<a rel=previous href="#What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.8 Citing R</h2>

<p>To cite R in publications, use

<pre>@article{,
  author =    {Ross Ihaka and Robert Gentleman},
  title =     {R: A Language for Data Analysis and Graphics},
  journal =   {Journal of Computational and Graphical Statistics},
  year =      1996,
  volume =    5,
  number =    3,
  pages =     {299--314}
}
</pre>

<p><hr>
Node:<a name="What%20mailing%20lists%20exist%20for%20R%3f">What mailing lists exist for R?</a>,
Next:<a rel=next href="#What%20is%20CRAN%3f">What is CRAN?</a>,
Previous:<a rel=previous href="#Citing%20R">Citing R</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.9 What mailing lists exist for R?</h2>

<p>Thanks to <a href="mailto:Martin.Maechler@r-project.org">Martin Maechler</a>, there
are three mailing lists devoted to R.

<dl>
<dt><code>r-announce</code>
<dd>This list is for announcements about the development of R and the
availability of new code. 
<br><dt><code>r-devel</code>
<dd>This list is for discussions about the future of R and pre-testing of
new versions.  It is meant for those who maintain an active position in
the development of R. 
<br><dt><code>r-help</code>
<dd>The `main' R mailing list, for announcements about the development of R
and the availability of new code, questions and answers about problems
and solutions using R, enhancements and patches to the source code and
documentation of R, comparison and compatibility with S and <small>S-PLUS</small>,
and for the posting of nice examples and benchmarks. 
</dl>

<p>Note that the r-announce list is gatewayed into r-help, so you don't
need to subscribe to both of them.

<p>Send email to <a href="mailto:r-help@lists.r-project.org">r-help@lists.r-project.org</a> to reach everyone on
the r-help mailing list.  To subscribe (or unsubscribe) to this list
send <code>subscribe</code> (or <code>unsubscribe</code>) in the <em>body</em> of the
message (not in the subject!) to
<a href="mailto:r-help-request@lists.r-project.org">r-help-request@lists.r-project.org</a>.  Information about the list
can be obtained by sending an email with <code>info</code> as its contents to
<a href="mailto:r-help-request@lists.r-project.org">r-help-request@lists.r-project.org</a>.

<p>Subscription and posting to the other lists is done analogously, with
`r-help' replaced by `r-announce' and `r-devel', respectively.

<p>Subscriptions to `r-help' and `r-devel' are also available in digest
format, see the <code>doc/html/mail.html</code> file in <small>CRAN</small> for
more information.

<p>It is recommended that you send mail to r-help rather than only to the R
Core developers (who are also subscribed to the list, of course).  This
may save them precious time they can use for constantly improving R, and
will typically also result in much quicker feedback for yourself.

<p>Of course, in the case of bug reports it would be very helpful to have
code which reliably reproduces the problem.  Also, make sure that you
include information on the system and version of R being used.  See
<a href="#R%20Bugs">R Bugs</a> for more details.

<p>Archives of the above three mailing lists are made available on the net
in a monthly schedule via the <code>doc/html/mail.html</code> file in
<small>CRAN</small>.  Searchable archives of the lists are available via
<a href="http://maths.newcastle.edu.au/~rking/R/">http://maths.newcastle.edu.au/~rking/R/</a>.

<p>The R Core Team can be reached at <a href="mailto:r-core@lists.r-project.org">r-core@lists.r-project.org</a>
for comments and reports.

<p><hr>
Node:<a name="What%20is%20CRAN%3f">What is CRAN?</a>,
Next:<a rel=next href="#Can%20I%20use%20R%20for%20commercial%20purposes%3f">Can I use R for commercial purposes?</a>,
Previous:<a rel=previous href="#What%20mailing%20lists%20exist%20for%20R%3f">What mailing lists exist for R?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.10 What is <small>CRAN</small>?</h2>

<p>The "Comprehensive R Archive Network" (<small>CRAN</small>) is a collection
of sites which carry identical material, consisting of the R
distribution(s), the contributed extensions, documentation for R, and
binaries.

<p>The <small>CRAN</small> master site at TU Wien, Austria, can be found at the
<small>URL</small>

<blockquote>
<a href="http://cran.r-project.org/">http://cran.r-project.org/</a>
</blockquote>

<p>and is currently being mirrored daily at

<blockquote>
<p><table><tr align="left"><td valign="top"><a href="http://cran.at.r-project.org/">http://cran.at.r-project.org/</a>
</td><td valign="top">(TU Wien, Austria)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.au.r-project.org/">http://cran.au.r-project.org/</a>
</td><td valign="top">(PlanetMirror, Australia)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.ch.r-project.org/">http://cran.ch.r-project.org/</a>
</td><td valign="top">(ETH Z&uuml;rich, Switzerland)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.de.r-project.org/">http://cran.de.r-project.org/</a>
</td><td valign="top">(APP, Germany)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.dk.r-project.org/">http://cran.dk.r-project.org/</a>
</td><td valign="top">(SunSITE, Denmark)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.hu.r-project.org/">http://cran.hu.r-project.org/</a>
</td><td valign="top">(Semmelweis U, Hungary)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.uk.r-project.org/">http://cran.uk.r-project.org/</a>
</td><td valign="top">(U of Bristol, United Kingdom)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.us.r-project.org/">http://cran.us.r-project.org/</a>
</td><td valign="top">(U of Wisconsin, USA)
<br></td></tr><tr align="left"><td valign="top"><a href="http://cran.za.r-project.org/">http://cran.za.r-project.org/</a>
</td><td valign="top">(Rhodes U, South Africa)
<br></td></tr></table>
</blockquote>

<p>Please use the <small>CRAN</small> site closest to you to reduce network
load.

<p>From <small>CRAN</small>, you can obtain the latest official release of R,
daily snapshots of R (copies of the current CVS trees), as gzipped and
bzipped tar files, a wealth of additional contributed code, as well as
prebuilt binaries for various operating systems (Linux, Digital Unix,
and MS Windows).  <small>CRAN</small> also provides access to documentation
on R, existing mailing lists and the R Bug Tracking system.

<p>To "submit" to <small>CRAN</small>, simply upload to
<a href="ftp://cran.r-project.org/incoming/">ftp://cran.r-project.org/incoming/</a> and send an email to
<a href="mailto:wwwadmin@cran.r-project.org">wwwadmin@cran.r-project.org</a>.

<blockquote>
<strong>Note:</strong>  It is very important that you indicate the copyright
(license) information (<small>GPL</small>, <small>BSD</small>, Artistic, <small>...</small>)
in your submission. 
</blockquote>

<p>Please always use the <small>URL</small> of the master site when referring to
<small>CRAN</small>.

<p><hr>
Node:<a name="Can%20I%20use%20R%20for%20commercial%20purposes%3f">Can I use R for commercial purposes?</a>,
Previous:<a rel=previous href="#What%20is%20CRAN%3f">What is CRAN?</a>,
Up:<a rel=up href="#R%20Basics">R Basics</a>
<br>

<h2>2.11 Can I use R for commercial purposes?</h2>

<p>R is released under the <a href="http://www.gnu.org/copyleft/gpl.html">GNU General Public License (GPL)</a>.  If you have any questions regarding the
legality of using R in any particular situation you should bring it up
with your legal counsel.  We are in no position to offer legal advice.

<p>It is the opinion of the R Core Team that one can use R for commercial
purposes (e.g., in business or in consulting).  The GPL, like all Open
Source licenses, permits all and any use of the package.  It only
restricts distribution of R or of other programs containing code from R. 
This is made clear in clause 6 ("No Discrimination Against Fields of
Endeavor") of the <a href="http://www.opensource.org/docs/definition.html">Open Source Definition</a>:

<blockquote>
The license must not restrict anyone from making use of the program in a
specific field of endeavor.  For example, it may not restrict the
program from being used in a business, or from being used for genetic
research. 
</blockquote>

<p>It is also explicitly stated in clause 0 of the GPL, which says in part

<blockquote>
Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of running
the Program is not restricted, and the output from the Program is
covered only if its contents constitute a work based on the Program. 
</blockquote>

<p>Most add-on packages, including all recommended ones, also explicitly
allow commercial use in this way.  A few packages are restricted to
"non-commercial use"; you should contact the author to clarify whether
these may be used or seek the advice of your legal counsel.

<p>None of the discussion in this section constitutes legal advice.  The R
Core Team does not provide legal advice under any circumstances.

<p><hr>
Node:<a name="R%20and%20S">R and S</a>,
Next:<a rel=next href="#R%20Web%20Interfaces">R Web Interfaces</a>,
Previous:<a rel=previous href="#R%20Basics">R Basics</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>3 R and S</h1>

<ul>
<li><a href="#What%20is%20S%3f">What is S?</a>: 
<li><a href="#What%20is%20S-PLUS%3f">What is S-PLUS?</a>: 
<li><a href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>: 
<li><a href="#Is%20there%20anything%20R%20can%20do%20that%20S-PLUS%20cannot%3f">Is there anything R can do that S-PLUS cannot?</a>: 
<li><a href="#What%20is%20R-plus%3f">What is R-plus?</a>: 
</ul>

<p><hr>
Node:<a name="What%20is%20S%3f">What is S?</a>,
Next:<a rel=next href="#What%20is%20S-PLUS%3f">What is S-PLUS?</a>,
Previous:<a rel=previous href="#R%20and%20S">R and S</a>,
Up:<a rel=up href="#R%20and%20S">R and S</a>
<br>

<h2>3.1 What is S?</h2>

<p>S is a very high level language and an environment for data analysis and
graphics.  In 1998, the Association for Computing Machinery
(<small>ACM</small>) presented its Software System Award to John M. Chambers,
the principal designer of S, for

<blockquote>
the S system, which has forever altered the way people analyze,
visualize, and manipulate data <small>...</small>

<p>S is an elegant, widely accepted, and enduring software system, with
conceptual integrity, thanks to the insight, taste, and effort of John
Chambers. 
</blockquote>

<p>The evolution of the S language is characterized by four books by John
Chambers and coauthors, which are also the primary references for S.

<ul>
<li>Richard A. Becker and John M. Chambers (1984), "S.  An Interactive
Environment for Data Analysis and Graphics," Monterey: Wadsworth and
Brooks/Cole.

<p>This is also referred to as the "<em>Brown Book</em>", and of historical
interest only.

</p><li>Richard A. Becker, John M. Chambers and Allan R. Wilks (1988), "The New
S Language," London: Chapman &amp; Hall.

<p>This book is often called the "<em>Blue Book</em>", and introduced what
is now known as S version 2.

</p><li>John M. Chambers and Trevor J. Hastie (1992), "Statistical Models in
S,"  London: Chapman &amp; Hall.

<p>This is also called the "<em>White Book</em>", and introduced S version
3, which added structures to facilitate statistical modeling in S.

</p><li>John M. Chambers (1998), "Programming with Data," New York: Springer,
ISBN 0-387-98503-4
(&lt;<code>http://cm.bell-labs.com/cm/ms/departments/sia/Sbook/</code>&gt;).

<p>This "<em>Green Book</em>" describes version 4 of S, a major revision of
S designed by John Chambers to improve its usefulness at every stage of
the programming process. 
</ul>

<p>See <a href="http://cm.bell-labs.com/cm/ms/departments/sia/S/history.html">http://cm.bell-labs.com/cm/ms/departments/sia/S/history.html</a>
for further information on "Stages in the Evolution of S".

<p>There is a huge amount of user-contributed code for S, available at the
<a href="http://lib.stat.cmu.edu/S/">S Repository</a> at <small>CMU</small>.

<p><hr>
Node:<a name="What%20is%20S-PLUS%3f">What is S-PLUS?</a>,
Next:<a rel=next href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>,
Previous:<a rel=previous href="#What%20is%20S%3f">What is S?</a>,
Up:<a rel=up href="#R%20and%20S">R and S</a>
<br>

<h2>3.2 What is <small>S-PLUS</small>?</h2>

<p><small>S-PLUS</small> is a value-added version of S sold by Insightful Corporation. 
Based on the S language, <small>S-PLUS</small> provides functionality in a wide
variety of areas, including robust regression, modern non-parametric
regression, time series, survival analysis, multivariate analysis,
classical statistical tests, quality control, and graphics drivers. 
Add-on modules add additional capabilities for wavelet analysis, spatial
statistics, GARCH models, and design of experiments.

<p>See the <a href="http://www.insightful.com/products/splus/">Insightful <small>S-PLUS</small> page</a> for further information.

<p><hr>
Node:<a name="What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>,
Next:<a rel=next href="#Is%20there%20anything%20R%20can%20do%20that%20S-PLUS%20cannot%3f">Is there anything R can do that S-PLUS cannot?</a>,
Previous:<a rel=previous href="#What%20is%20S-PLUS%3f">What is S-PLUS?</a>,
Up:<a rel=up href="#R%20and%20S">R and S</a>
<br>

<h2>3.3 What are the differences between R and S?</h2>

<p>We can regard S as a language with three current implementations or
"engines", the "old S engine" (S version 3; <small>S-PLUS</small> 3.x and 4.x),
the "new S engine" (S version 4; <small>S-PLUS</small> 5.x and above), and R. 
Given this understanding, asking for "the differences between R and S"
really amounts to asking for the specifics of the R implementation of
the S language, i.e., the difference between the R and S engines.

<p>For the remainder of this section, "S" refers to the S engines and not
the S language.

<ul>
<li><a href="#Lexical%20scoping">Lexical scoping</a>: 
<li><a href="#Models">Models</a>: 
<li><a href="#Others">Others</a>: 
</ul>

<p><hr>
Node:<a name="Lexical%20scoping">Lexical scoping</a>,
Next:<a rel=next href="#Models">Models</a>,
Previous:<a rel=previous href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>,
Up:<a rel=up href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>
<br>

<h3>3.3.1 Lexical scoping</h3>

<p>Contrary to other implementations of the S language, R has adopted the
evaluation model of Scheme.

<p>This difference becomes manifest when <em>free</em> variables occur in a
function.  Free variables are those which are neither formal parameters
(occurring in the argument list of the function) nor local variables
(created by assigning to them in the body of the function).  Whereas S
(like C) by default uses <em>static</em> scoping, R (like Scheme) has
adopted <em>lexical</em> scoping.  This means the values of free variables
are determined by a set of global variables in S, but in R by the
bindings that were in effect at the time the function was created.

<p>Consider the following function:

<pre>cube &lt;- function(n) {
  sq &lt;- function() n * n
  n * sq()
}
</pre>

<p>Under S, <code>sq()</code> does not "know" about the variable <code>n</code>
unless it is defined globally:

<pre>S&gt; cube(2)
Error in sq():  Object "n" not found
Dumped
S&gt; n &lt;- 3
S&gt; cube(2)
[1] 18
</pre>

<p>In R, the "environment" created when <code>cube()</code> was invoked is
also looked in:

<pre>R&gt; cube(2)
[1] 8
</pre>

<p>As a more "interesting" real-world problem, suppose you want to write
a function which returns the density function of the r-th order
statistic from a sample of size n from a (continuous)
distribution.  For simplicity, we shall use both the cdf and pdf of the
distribution as explicit arguments.  (Example compiled from various
postings by Luke Tierney.)

<p>The <small>S-PLUS</small> documentation for <code>call()</code> basically suggests the
following:

<pre>dorder &lt;- function(n, r, pfun, dfun) {
  f &lt;- function(x) NULL
  con &lt;- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
  PF &lt;- call(substitute(pfun), as.name("x"))
  DF &lt;- call(substitute(dfun), as.name("x"))
  f[[length(f)]] &lt;-
    call("*", con,
         call("*", call("^", PF, r - 1),
              call("*", call("^", call("-", 1, PF), n - r),
                   DF)))
  f
}
</pre>

<p>Rather tricky, isn't it?  The code uses the fact that in S,
functions are just lists of special mode with the function body as the
last argument, and hence does not work in R (one could make the idea
work, though).

<p>A version which makes heavy use of <code>substitute()</code> and seems to work
under both S and R is

<pre>dorder &lt;- function(n, r, pfun, dfun) {
  con &lt;- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
  eval(substitute(function(x) K * PF(x)^a * (1 - PF(x))^b * DF(x),
                  list(PF = substitute(pfun), DF = substitute(dfun),
                       a = r - 1, b = n - r, K = con)))
}
</pre>

<p>(the <code>eval()</code> is not needed in S).

<p>However, in R there is a much easier solution:

<pre>dorder &lt;- function(n, r, pfun, dfun) {
  con &lt;- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
  function(x) {
    con * pfun(x)^(r - 1) * (1 - pfun(x))^(n - r) * dfun(x)
  }
}
</pre>

<p>This seems to be the "natural" implementation, and it works because
the free variables in the returned function can be looked up in the
defining environment (this is lexical scope).

<p>Note that what you really need is the function <em>closure</em>, i.e., the
body along with all variable bindings needed for evaluating it.  Since
in the above version, the free variables in the value function are not
modified, you can actually use it in S as well if you abstract out the
closure operation into a function <code>MC()</code> (for "make closure"):

<pre>dorder &lt;- function(n, r, pfun, dfun) {
  con &lt;- round(exp(lgamma(n + 1) - lgamma(r) - lgamma(n - r + 1)))
  MC(function(x) {
       con * pfun(x)^(r - 1) * (1 - pfun(x))^(n - r) * dfun(x)
     },
     list(con = con, pfun = pfun, dfun = dfun, r = r, n = n))
}
</pre>

<p>Given the appropriate definitions of the closure operator, this works in
both R and S, and is much "cleaner" than a substitute/eval solution
(or one which overrules the default scoping rules by using explicit
access to evaluation frames, as is of course possible in both R and S).

<p>For R, <code>MC()</code> simply is

<pre>MC &lt;- function(f, env) f
</pre>

<p>(lexical scope!), a version for S is

<pre>MC &lt;- function(f, env = NULL) {
  env &lt;- as.list(env)
  if (mode(f) != "function")
    stop(paste("not a function:", f))
  if (length(env) &gt; 0 &amp;&amp; any(names(env) == ""))
    stop(paste("not all arguments are named:", env))
  fargs &lt;- if(length(f) &gt; 1) f[1:(length(f) - 1)] else NULL
  fargs &lt;- c(fargs, env)
  if (any(duplicated(names(fargs))))
    stop(paste("duplicated arguments:", paste(names(fargs)),
         collapse = ", "))
  fbody &lt;- f[length(f)]
  cf &lt;- c(fargs, fbody)
  mode(cf) &lt;- "function"
  return(cf)
}
</pre>

<p>Similarly, most optimization (or zero-finding) routines need some
arguments to be optimized over and have other parameters that depend on
the data but are fixed with respect to optimization.  With R scoping
rules, this is a trivial problem; simply make up the function with the
required definitions in the same environment and scoping takes care of
it.  With S, one solution is to add an extra parameter to the function
and to the optimizer to pass in these extras, which however can only
work if the optimizer supports this.

<p>Lexical scoping allows using function closures and maintaining local
state.  A simple example (taken from Abelson and Sussman) is obtained by
typing <kbd>demo(scoping)</kbd> at the R prompt.  Further information is
provided in the standard R reference "R: A Language for Data Analysis
and Graphics" (see <a href="#What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>) and in Robert
Gentleman and Ross Ihaka (2000), "Lexical Scope and Statistical
Computing", <a href="http://www.amstat.org/publications/jcgs/"><em>Journal of Computational and Graphical Statistics</em></a>, <strong>9</strong>,
491-508.

<p>Lexical scoping also implies a further major difference.  Whereas S
stores all objects as separate files in a directory somewhere (usually
<code>.Data</code> under the current directory), R does not.  All objects
in R are stored internally.  When R is started up it grabs a very large
piece of memory and uses it to store the objects.  R performs its own
memory management of this piece of memory.  Having everything in memory
is necessary because it is not really possible to externally maintain
all relevant "environments" of symbol/value pairs.  This difference
also seems to make R <em>faster</em> than S.

<p>The down side is that if R crashes you will lose all the work for the
current session.  Saving and restoring the memory "images" (the
functions and data stored in R's internal memory at any time) can be a
bit slow, especially if they are big.  In S this does not happen,
because everything is saved in disk files and if you crash nothing is
likely to happen to them.  (In fact, one might conjecture that the S
developers felt that the price of changing their approach to persistent
storage just to accommodate lexical scope was far too expensive.) 
Hence, when doing important work, you might consider saving often (see
<a href="#How%20can%20I%20save%20my%20workspace%3f">How can I save my workspace?</a>) to safeguard against possible
crashes.  Other possibilities are logging your sessions, or have your R
commands stored in text files which can be read in using
<code>source()</code>.

<blockquote>
<strong>Note:</strong>  If you run R from within Emacs (see <a href="#R%20and%20Emacs">R and Emacs</a>),
you can save the contents of the interaction buffer to a file and
conveniently manipulate it using <code>ess-transcript-mode</code>, as well as
save source copies of all functions and data used. 
</blockquote>

<p><hr>
Node:<a name="Models">Models</a>,
Next:<a rel=next href="#Others">Others</a>,
Previous:<a rel=previous href="#Lexical%20scoping">Lexical scoping</a>,
Up:<a rel=up href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>
<br>

<h3>3.3.2 Models</h3>

<p>There are some differences in the modeling code, such as

<ul>
<li>Whereas in S, you would use <code>lm(y ~ x^3)</code> to regress <code>y</code> on
<code>x^3</code>, in R, you have to insulate powers of numeric vectors (using
<code>I()</code>), i.e., you have to use <code>lm(y ~ I(x^3))</code>. 
<li>The glm family objects are implemented differently in R and S.  The same
functionality is available but the components have different names. 
<li>Option <code>na.action</code> is set to <code>"na.omit"</code> by default in R,
but not set in S. 
<li>Terms objects are stored differently.  In S a terms object is an
expression with attributes, in R it is a formula with attributes.  The
attributes have the same names but are mostly stored differently.  The
major difference in functionality is that a terms object is
subscriptable in S but not in R.  If you can't imagine why this would
matter then you don't need to know. 
<li>Finally, in R <code>y~x+0</code> is an alternative to <code>y~x-1</code> for
specifying a model with no intercept.  Models with no parameters at all
can be specified by <code>y~0</code>. 
</ul>

<p><hr>
Node:<a name="Others">Others</a>,
Previous:<a rel=previous href="#Models">Models</a>,
Up:<a rel=up href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>
<br>

<h3>3.3.3 Others</h3>

<p>Apart from lexical scoping and its implications, R follows the S
language definition in the Blue and White Books as much as possible, and
hence really is an "implementation" of S.  There are some intentional
differences where the behavior of S is considered "not clean".  In
general, the rationale is that R should help you detect programming
errors, while at the same time being as compatible as possible with S.

<p>Some known differences are the following.

<ul>

<li>In R, if <code>x</code> is a list, then <code>x[i] &lt;- NULL</code> and <code>x[[i]]
&lt;- NULL</code> remove the specified elements from <code>x</code>.  The first of
these is incompatible with S, where it is a no-op.  (Note that you can
set elements to <code>NULL</code> using <code>x[i] &lt;- list(NULL)</code>.)

<li>In S, the functions named <code>.First</code> and <code>.Last</code> in the
<code>.Data</code> directory can be used for customizing, as they are executed
at the very beginning and end of a session, respectively.

<p>In R, the startup mechanism is as follows.  R first sources the system
startup file <code><code>$R_HOME</code>/library/base/R/Rprofile</code>.  Then, it
searches for a site-wide startup profile unless the command line option
<code>--no-site-file</code> was given.  The name of this file is taken from
the value of the <code>R_PROFILE</code> environment variable.  If that variable
is unset, the default is <code><code>$R_HOME</code>/etc/Rprofile.site</code>
(<code><code>$R_HOME</code>/etc/Rprofile</code> in versions prior to 1.4.0).  This
code is loaded in package <strong>base</strong>.  Then, unless
<code>--no-init-file</code> was given, R searches for a file called
<code>.Rprofile</code> in the current directory or in the user's home
directory (in that order) and sources it into the user workspace.  It
then loads a saved image of the user workspace from <code>.RData</code> in
case there is one (unless <code>--no-restore</code> was specified).  If
needed, the functions <code>.First()</code> and <code>.Last()</code> should be
defined in the appropriate startup profiles.

</p><li>In R, <code>T</code> and <code>F</code> are just variables being set to <code>TRUE</code>
and <code>FALSE</code>, respectively, but are not reserved words as in S and
hence can be overwritten by the user.  (This helps e.g. when you have
factors with levels <code>"T"</code> or <code>"F"</code>.)  Hence, when writing code
you should always use <code>TRUE</code> and <code>FALSE</code>.

<li>In R, <code>dyn.load()</code> can only load <em>shared libraries</em>, as
created for example by <kbd>R CMD SHLIB</kbd>.

<li>In R, <code>attach()</code> currently only works for lists and data frames,
but not for directories.  (In fact, <code>attach()</code> also works for R
data files created with <code>save()</code>, which is analogous to attaching
directories in S.)  Also, you cannot attach at position 1.

<li>Categories do not exist in R, and never will as they are deprecated now
in S.  Use factors instead.

<li>In R, <code>For()</code> loops are not necessary and hence not supported.

<li>In R, <code>assign()</code> uses the argument <code>envir=</code> rather than
<code>where=</code> as in S.

<li>The random number generators are different, and the seeds have different
length.

<li>R passes integer objects to C as <code>int *</code> rather than <code>long *</code>
as in S.

<li>R has no single precision storage mode.  However, as of version 0.65.1,
there is a single precision interface to C/FORTRAN subroutines.

<li>By default, <code>ls()</code> returns the names of the objects in the current
(under R) and global (under S) environment, respectively.  For example,
given

<pre>x &lt;- 1; fun &lt;- function() {y &lt;- 1; ls()}
</pre>

<p>then <code>fun()</code> returns <code>"y"</code> in R and <code>"x"</code> (together with
the rest of the global environment) in S.

</p><li>R allows for zero-extent matrices (and arrays, i.e., some elements of
the <code>dim</code> attribute vector can be 0).  This has been determined a
useful feature as it helps reducing the need for special-case tests for
empty subsets.  For example, if <code>x</code> is a matrix, <code>x[, FALSE]</code>
is not <code>NULL</code> but a "matrix" with 0 columns.  Hence, such objects
need to be tested for by checking whether their <code>length()</code> is zero
(which works in both R and S), and not using <code>is.null()</code>.

<li>Named vectors are considered vectors in R but not in S (e.g.,
<code>is.vector(c(a = 1:3))</code> returns <code>FALSE</code> in S and <code>TRUE</code>
in R).

<li>Data frames are not considered as matrices in R (i.e., if <code>DF</code> is a
data frame, then <code>is.matrix(DF)</code> returns <code>FALSE</code> in R and
<code>TRUE</code> in S).

<li>R by default uses treatment contrasts in the unordered case, whereas S
uses the Helmert ones.  This is a deliberate difference reflecting the
opinion that treatment contrasts are more natural.

<li>In R, the last argument (which corresponds to the right hand side) of an
assignment function must be named <code>value</code>.  E.g., <code>fun(a) &lt;-
b</code> is evaluated as <code>(fun&lt;-)(a, value = b)</code>.

<li>In S, <code>substitute()</code> searches for names for substitution in the
given expression in three places: the actual and the default arguments
of the matching call, and the local frame (in that order).  R looks in
the local frame only, with the special rule to use a "promise" if a
variable is not evaluated.  Since the local frame is initialized with
the actual arguments or the default expressions, this is usually
equivalent to S, until assignment takes place.

<li>In R, <code>eval(EXPR, sys.parent())</code> does not work.  Instead, one
should use either <code>eval(EXPR, sys.frame(sys.parent())),</code> which also
works in S, or <code>eval(EXPR, parent.frame())</code>, which is more
efficient but does not work in S.

<li>In S, the index variable in a <code>for()</code> loop is local to the inside
of the loop.  In R it is local to the environment where the <code>for()</code>
statement is executed.

<li>In S, <code>tapply(simplify=TRUE)</code> returns a vector where R returns a
one-dimensional array (which can have named dimnames).

<li>In S(-<small>PLUS</small>) the C locale is used, whereas in R the current
operating system locale is used for determining which characters are
alphanumeric and how they are sorted.  This affects the set of valid
names for R objects (for example accented chars may be allowed in R) and
ordering in sorts and comparisons (such as whether <code>"aA" &lt; "Bb"</code> is
true or false).  From version 1.2.0 the locale can be (re-)set in R by
the <code>Sys.setlocale()</code> function.

<li>In S, <code>missing(<var>arg</var>)</code> remains <code>TRUE</code> if <var>arg</var> is
subsequently modified; in R it doesn't.

<li>From R version 1.3.0, <code>data.frame</code> strips <code>I()</code> when creating
(column) names.

</ul>

<p>There are also differences which are not intentional, and result from
missing or incorrect code in R.  The developers would appreciate hearing
about any deficiencies you may find (in a written report fully
documenting the difference as you see it).  Of course, it would be
useful if you were to implement the change yourself and make sure it
works.

<p><hr>
Node:<a name="Is%20there%20anything%20R%20can%20do%20that%20S-PLUS%20cannot%3f">Is there anything R can do that S-PLUS cannot?</a>,
Next:<a rel=next href="#What%20is%20R-plus%3f">What is R-plus?</a>,
Previous:<a rel=previous href="#What%20are%20the%20differences%20between%20R%20and%20S%3f">What are the differences between R and S?</a>,
Up:<a rel=up href="#R%20and%20S">R and S</a>
<br>

<h2>3.4 Is there anything R can do that <small>S-PLUS</small> cannot?</h2>

<p>Since almost anything you can do in R has source code that you could
port to <small>S-PLUS</small> with little effort there will never be much you can do
in R that you couldn't do in <small>S-PLUS</small> if you wanted to.  (Note that
using lexical scoping may simplify matters considerably, though.)

<p>R offers several graphics features that <small>S-PLUS</small> does not, such as finer
handling of line types, more convenient color handling (via palettes),
gamma correction for color, and, most importantly, mathematical
annotation in plot texts, via input expressions reminiscent of TeX
constructs.  See the help page for <code>plotmath</code>, which features an
impressive on-line example.  More details can be found in Paul Murrell
and Ross Ihaka (2000), "An Approach to Providing Mathematical
Annotation in Plots", <a href="http://www.amstat.org/publications/jcgs/"><em>Journal of Computational and Graphical Statistics</em></a>, <strong>9</strong>,
582-599.

<p><hr>
Node:<a name="What%20is%20R-plus%3f">What is R-plus?</a>,
Previous:<a rel=previous href="#Is%20there%20anything%20R%20can%20do%20that%20S-PLUS%20cannot%3f">Is there anything R can do that S-PLUS cannot?</a>,
Up:<a rel=up href="#R%20and%20S">R and S</a>
<br>

<h2>3.5 What is R-plus?</h2>

<p>There is no such thing.

<p><hr>
Node:<a name="R%20Web%20Interfaces">R Web Interfaces</a>,
Next:<a rel=next href="#R%20Add-On%20Packages">R Add-On Packages</a>,
Previous:<a rel=previous href="#R%20and%20S">R and S</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>4 R Web Interfaces</h1>

<p><strong>Rcgi</strong> is a CGI WWW interface to R by
<a href="mailto:mjr@stats.mth.uea.ac.uk">Mark J. Ray</a>.  Recent versions have the
ability to use "embedded code": you can mix user input and code,
allowing the <small>HTML</small> author to do anything from load in data sets to
enter most of the commands for users without writing CGI scripts. 
Graphical output is possible in PostScript or GIF formats and the
executed code is presented to the user for revision.

<p>Demo and download are available from
<a href="http://www.mth.uea.ac.uk/~h089/Rcgi/">http://www.mth.uea.ac.uk/~h089/Rcgi/</a>.

<p><strong>Rweb</strong> is developed and maintained by
<a href="mailto:jeff@math.montana.edu">Jeff Banfield</a>.  The
<a href="http://www.math.montana.edu/Rweb/">Rweb Home Page</a> provides access
to all three versions of Rweb--a simple text entry form that returns
output and graphs, a more sophisticated Javascript version that provides
a multiple window environment, and a set of point and click modules that
are useful for introductory statistics courses and require no knowledge
of the R language.  All of the Rweb versions can analyze Web accessible
datasets if a <small>URL</small> is provided.

<p>The paper "Rweb: Web-based Statistical Analysis", providing a detailed
explanation of the different versions of Rweb and an overview of how
Rweb works, was published in the Journal of Statistical Software
(<a href="http://www.stat.ucla.edu/journals/jss/v04/i01/">http://www.stat.ucla.edu/journals/jss/v04/i01/</a>).

<p><hr>
Node:<a name="R%20Add-On%20Packages">R Add-On Packages</a>,
Next:<a rel=next href="#R%20and%20Emacs">R and Emacs</a>,
Previous:<a rel=previous href="#R%20Web%20Interfaces">R Web Interfaces</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>5 R Add-On Packages</h1>

<ul>
<li><a href="#Which%20add-on%20packages%20exist%20for%20R%3f">Which add-on packages exist for R?</a>: 
<li><a href="#How%20can%20add-on%20packages%20be%20installed%3f">How can add-on packages be installed?</a>: 
<li><a href="#How%20can%20add-on%20packages%20be%20used%3f">How can add-on packages be used?</a>: 
<li><a href="#How%20can%20add-on%20packages%20be%20removed%3f">How can add-on packages be removed?</a>: 
<li><a href="#How%20can%20I%20create%20an%20R%20package%3f">How can I create an R package?</a>: 
<li><a href="#How%20can%20I%20contribute%20to%20R%3f">How can I contribute to R?</a>: 
</ul>

<p><hr>
Node:<a name="Which%20add-on%20packages%20exist%20for%20R%3f">Which add-on packages exist for R?</a>,
Next:<a rel=next href="#How%20can%20add-on%20packages%20be%20installed%3f">How can add-on packages be installed?</a>,
Previous:<a rel=previous href="#R%20Add-On%20Packages">R Add-On Packages</a>,
Up:<a rel=up href="#R%20Add-On%20Packages">R Add-On Packages</a>
<br>

<h2>5.1 Which add-on packages exist for R?</h2>

<p>The R distribution comes with the following extra packages:

<dl>
<dt><strong>ctest</strong>
<dd>A collection of Classical TESTs, including the Ansari-Bradley, Bartlett,
chi-squared, Fisher, Kruskal-Wallis, Kolmogorov-Smirnov, t, and
Wilcoxon tests. 
<br><dt><strong>eda</strong>
<dd>Exploratory Data Analysis.  Currently only contains functions for robust
line fitting, and median polish and smoothing. 
<br><dt><strong>lqs</strong>
<dd>Resistant regression and covariance estimation. 
<br><dt><strong>methods</strong>
<dd>Formally defined methods and classes for R objects, plus other
programming tools, as described in the Green Book. 
<br><dt><strong>modreg</strong>
<dd>MODern REGression: smoothing and local methods. 
<br><dt><strong>mva</strong>
<dd>MultiVariate Analysis.  Currently contains code for principal
components, canonical correlations, metric multidimensional scaling,
factor analysis, and hierarchical and k-means clustering. 
<br><dt><strong>nls</strong>
<dd>Nonlinear regression routines. 
<br><dt><strong>splines</strong>
<dd>Regression spline functions and classes. 
<br><dt><strong>stepfun</strong>
<dd>Code for dealing with STEP FUNctions, including empirical cumulative
distribution functions. 
<br><dt><strong>tcltk</strong>
<dd>Interface and language bindings to Tcl/Tk <small>GUI</small> elements. 
<br><dt><strong>tools</strong>
<dd>Tools for package development and administration. 
<br><dt><strong>ts</strong>
<dd>Time Series. 
</dl>

<p>The following packages are available from the <small>CRAN</small>
<code>src/contrib</code> area.

<dl>
<dt><strong>AnalyzeFMRI</strong>
<dd>Functions for I/O, visualisation and analysis of functional Magnetic
Resonance Imaging (fMRI) datasets stored in the ANALYZE format. 
<br><dt><strong>CoCoAn</strong>
<dd>Constrained Correspondence Analysis. 
<br><dt><strong>Devore5</strong>
<dd>Data sets and sample analyses from "Probability and Statistics for
Engineering and the Sciences (5th ed)" by Jay L. Devore, 2000, Duxbury. 
<br><dt><strong>EMV</strong>
<dd>Estimation of missing values in a matrix by a k-th nearest
neighboors algorithm. 
<br><dt><strong>GLMMGibbs</strong>
<dd>Generalised Linear Mixed Models by Gibbs sampling. 
<br><dt><strong>GenKern</strong>
<dd>Functions for generating and manipulating generalised binned kernel
density estimates. 
<br><dt><strong>GeneSOM</strong>
<dd>Clustering genes using Self-Organizing Maps (SOMs). 
<br><dt><strong>KernSmooth</strong>
<dd>Functions for kernel smoothing (and density estimation) corresponding to
the book "Kernel Smoothing" by M. P. Wand and M. C. Jones, 1995. 
<br><dt><strong>MASS</strong>
<dd>Functions and datasets from the main package of Venables and Ripley,
"Modern Applied Statistics with <small>S-PLUS</small>".  Contained in the <code>VR</code>
bundle. 
<br><dt><strong>Matrix</strong>
<dd>A Matrix package. 
<br><dt><strong>NISTnls</strong>
<dd>A set of test nonlinear least squares examples from <small>NIST</small>, the
U.S. National Institute for Standards and Technology. 
<br><dt><strong>Oarray</strong>
<dd>Arrays with arbitrary offsets. 
<br><dt><strong>PHYLOGR</strong>
<dd>Manipulation and analysis of phylogenetically simulated data sets (as
obtained from PDSIMUL in package PDAP) and phylogenetically-based
analyses using GLS. 
<br><dt><strong>PTAk</strong>
<dd>A multiway method to decompose a tensor (array) of any order, as a
generalisation of SVD also supporting non-identity metrics and
penalisations.  Also includes some other multiway methods. 
<br><dt><strong>RArcInfo</strong>
<dd>Functions to import Arc/Info V7.x coverages and data. 
<br><dt><strong>RMySQL</strong>
<dd>An interface between R and the MySQL database system. 
<br><dt><strong>RODBC</strong>
<dd>An <small>ODBC</small> database interface. 
<br><dt><strong>ROracle</strong>
<dd>Oracle Database Interface driver for R.  Uses the ProC/C++ embedded SQL. 
<br><dt><strong>RPgSQL</strong>
<dd>Provides methods for accessing data stored in PostgreSQL tables. 
<br><dt><strong>RSQLite</strong>
<dd>Database Interface R driver for SQLite.  Embeds the SQLite database
engine in R. 
<br><dt><strong>RandomFields</strong>
<dd>Creating random fields using various methods. 
<br><dt><strong>RmSQL</strong>
<dd>An interface between R and the mSQL database system. 
<br><dt><strong>Rwave</strong>
<dd>An environment for the time-frequency analysis of 1-D signals (and
especially for the wavelet and Gabor transforms of noisy signals), based
on the book "Practical Time-Frequency Analysis: Gabor and Wavelet
Transforms with an Implementation in S" by Rene Carmona, Wen L. Hwang
and Bruno Torresani, 1998, Academic Press. 
<br><dt><strong>SASmixed</strong>
<dd>Data sets and sample linear mixed effects analyses corresponding to the
examples in "SAS System for Mixed Models" by R. C. Littell,
G. A. Milliken, W. W. Stroup and R. D. Wolfinger, 1996, SAS Institute. 
<br><dt><strong>SuppDists</strong>
<dd>Ten distributions supplementing those built into R (Inverse Gauss,
Kruskal-Wallis, Kendall's Tau, Friedman's chi squared, Spearman's rho,
maximum F ratio, the Pearson product moment correlation coefficiant,
Johnson distributions, normal scores and generalized hypergeometric
distributions). 
<br><dt><strong>XML</strong>
<dd>Facilities for reading <small>XML</small> documents and DTDs. 
<br><dt><strong>acepack</strong>
<dd>ACE (Alternating Conditional Expectations) and AVAS (Additivity and
VAriance Stabilization for regression) methods for selecting regression
transformations. 
<br><dt><strong>adapt</strong>
<dd>Adaptive quadrature in up to 20 dimensions. 
<br><dt><strong>akima</strong>
<dd>Linear or cubic spline interpolation for irregularly gridded data. 
<br><dt><strong>ash</strong>
<dd>David Scott's ASH routines for 1D and 2D density estimation. 
<br><dt><strong>bindata</strong>
<dd>Generation of correlated artificial binary data. 
<br><dt><strong>blighty</strong>
<dd>Function for drawing the coastline of the United Kingdom. 
<br><dt><strong>boot</strong>
<dd>Functions and datasets for bootstrapping from the book "Bootstrap
Methods and Their Applications" by A. C. Davison and D. V. Hinkley,
1997, Cambridge University Press. 
<br><dt><strong>bootstrap</strong>
<dd>Software (bootstrap, cross-validation, jackknife), data and errata for
the book "An Introduction to the Bootstrap" by B. Efron and
R. Tibshirani, 1993, Chapman and Hall. 
<br><dt><strong>bqtl</strong>
<dd>QTL mapping toolkit for inbred crosses and recombinant inbred lines. 
Includes maximum likelihood and Bayesian tools. 
<br><dt><strong>car</strong>
<dd>Companion to Applied Regression, containing functions for applied
regession, linear models, and generalized linear models, with an
emphasis on regression diagnostics, particularly graphical diagnostic
methods. 
<br><dt><strong>cclust</strong>
<dd>Convex clustering methods, including k-means algorithm, on-line
update algorithm (Hard Competitive Learning) and Neural Gas algorithm
(Soft Competitive Learning) and calculation of several indexes for
finding the number of clusters in a data set. 
<br><dt><strong>cfa</strong>
<dd>Analysis of configuration frequencies. 
<br><dt><strong>chron</strong>
<dd>A package for working with chronological objects (times and dates). 
<br><dt><strong>class</strong>
<dd>Functions for classification (k-nearest neighbor and LVQ). 
Contained in the <code>VR</code> bundle. 
<br><dt><strong>cluster</strong>
<dd>Functions for cluster analysis. 
<br><dt><strong>cmprsk</strong>
<dd>Estimation, testing and regression modeling of subdistribution functions
in competing risks. 
<br><dt><strong>coda</strong>
<dd>Output analysis and diagnostics for Markov Chain Monte Carlo (MCMC)
simulations. 
<br><dt><strong>conf.design</strong>
<dd>A series of simple tools for constructing and manipulating confounded
and fractional factorial designs. 
<br><dt><strong>cramer</strong>
<dd>Routine for the multivariate nonparametric Cramer test. 
<br><dt><strong>date</strong>
<dd>Functions for dealing with dates.  The most useful of them accepts a
vector of input dates in any of the forms <code>8/30/53</code>,
<code>30Aug53</code>, <code>30 August 1953</code>, <small>...</small>, <code>August 30 53</code>, or
any mixture of these. 
<br><dt><strong>diamonds</strong>
<dd>Functions for illustrating aperture-4 diamond partitions in the plane,
or on the surface of an octahedron or icosahedron, for use as analysis
or sampling grids. 
<br><dt><strong>dse</strong>
<dd>Dynamic System Estimation, a multivariate time series package.  Contains
<strong>dse1</strong> (DSE kernel plus ARMA and state space models),
<strong>dse2</strong> (DSE extensions), <strong>syskern</strong> (functions for writing
code that is operating system and R/S independent), and <strong>tframe</strong>
(functions for writing code that is independent of the representation of
time). 
<br><dt><strong>e1071</strong>
<dd>Miscellaneous functions used at the Department of Statistics at TU Wien
(E1071), including moments, short-time Fourier transforms, Independent
Component Analysis, Latent Class Analysis, support vector machines, and
fuzzy clustering, shortest path computation, bagged clustering, and some
more. 
<br><dt><strong>ellipse</strong>
<dd>Package for drawing ellipses and ellipse-like confidence regions. 
<br><dt><strong>emplik</strong>
<dd>Empirical likelihood ratio for means/quantiles/hazards from possibly
right censored data. 
<br><dt><strong>event.chart</strong>
<dd>Package for creating event charts. 
<br><dt><strong>exactRankTests</strong>
<dd>Computes exact p-values and quantiles using an implementation of
the Streitberg/Roehmel shift algorithm. 
<br><dt><strong>fastICA</strong>
<dd>Implementation of FastICA algorithm to perform Independent Component
Analysis (ICA) and Projection Pursuit. 
<br><dt><strong>fdim</strong>
<dd>Functions for calculating fractal dimension. 
<br><dt><strong>fields</strong>
<dd>A collection of programs for curve and function fitting with an emphasis
on spatial data.  The major methods implemented include cubic and thin
plate splines, universal Kriging and Kriging for large data sets.  The
main feature is that any covariance function implemented in R can be
used for spatial prediction. 
<br><dt><strong>foreign</strong>
<dd>Functions for reading and writing data stored by statistical software
like Minitab, SAS, SPSS, Stata, etc. 
<br><dt><strong>fracdiff</strong>
<dd>Maximum likelihood estimation of the parameters of a fractionally
differenced ARIMA(p,d,q) model (Haslett and Raftery, Applied
Statistics, 1989). 
<br><dt><strong>g.data</strong>
<dd>Create and maintain delayed-data packages (DDP's). 
<br><dt><strong>gafit</strong>
<dd>Genetic algorithm for curve fitting. 
<br><dt><strong>gee</strong>
<dd>An implementation of the Liang/Zeger generalized estimating equation
approach to GLMs for dependent data. 
<br><dt><strong>geoR</strong>
<dd>Functions to perform geostatistical data analysis including model-based
methods. 
<br><dt><strong>gld</strong>
<dd>Basic functions for the generalised (Tukey) lambda distribution. 
<br><dt><strong>gregmisc</strong>
<dd>Miscellaneous functions written/maintained by Gregory R. Warnes. 
<br><dt><strong>grid</strong>
<dd>The Grid graphics package, a rewrite of the graphics layout
capabilities, plus some support for interaction. 
<br><dt><strong>gss</strong>
<dd>A comprehensive package for structural multivariate function estimation
using smoothing splines. 
<br><dt><strong>ineq</strong>
<dd>Inequality, concentration and poverty measures, and Lorenz curves
(empirical and theoretic). 
<br><dt><strong>lattice</strong>
<dd>Lattice graphics, an implementation of Trellis Graphics functions. 
<br><dt><strong>leaps</strong>
<dd>A package which performs an exhaustive search for the best subsets of a
given set of potential regressors, using a branch-and-bound algorithm,
and also performs searches using a number of less time-consuming
techniques. 
<br><dt><strong>lgtdl</strong>
<dd>A set of methods for longitudinal data objects. 
<br><dt><strong>lmtest</strong>
<dd>A collection of tests on the assumptions of linear regression models
from the book "The linear regression model under test" by W. Kraemer
and H. Sonnberger, 1986, Physica. 
<br><dt><strong>locfit</strong>
<dd>Local Regression, likelihood and density estimation. 
<br><dt><strong>logspline</strong>
<dd>Logspline density estimation. 
<br><dt><strong>lokern</strong>
<dd>Kernel regression smoothing with adaptive local or global plug-in
bandwidth selection. 
<br><dt><strong>lpridge</strong>
<dd>Local polynomial (ridge) regression. 
<br><dt><strong>maptree</strong>
<dd>Functions with example data for graphing and mapping models from
hierarchical clustering and classification and regression trees. 
<br><dt><strong>maxstat</strong>
<dd>Maximally selected rank and Gauss statistics with several p-value
approximations. 
<br><dt><strong>mclust</strong>
<dd>Model-based cluster analysis. 
<br><dt><strong>mda</strong>
<dd>Code for mixture discriminant analysis (MDA), flexible discriminant
analysis (FDA), penalized discriminant analysis (PDA), multivariate
additive regression splines (MARS), adaptive back-fitting splines
(BRUTO), and penalized regression. 
<br><dt><strong>meanscore</strong>
<dd>Mean Score method for missing covariate data in logistic regression
models. 
<br><dt><strong>mgcv</strong>
<dd>Routines for GAMs and other genralized ridge regression problems with
multiple smoothing parameter selection by GCV or UBRE. 
<br><dt><strong>mlbench</strong>
<dd>A collection of artificial and real-world machine learning benchmark
problems, including the Boston housing data. 
<br><dt><strong>moc</strong>
<dd>Fits a variety of mixtures models for multivariate observations with
user-difined distributions and curves. 
<br><dt><strong>muhaz</strong>
<dd>Hazard function estimation in survival analysis. 
<br><dt><strong>multiv</strong>
<dd>Functions for hierarchical clustering, partitioning, bond energy
algorithm, Sammon mapping, PCA and correspondence analysis. 
<br><dt><strong>mvnmle</strong>
<dd>ML estimation for multivariate normal data with missing values. 
<br><dt><strong>mvtnorm</strong>
<dd>Multivariate normal and t distributions. 
<br><dt><strong>netCDF</strong>
<dd>Read data from netCDF files. 
<br><dt><strong>nlme</strong>
<dd>Fit and compare Gaussian linear and nonlinear mixed-effects models. 
<br><dt><strong>nlrq</strong>
<dd>Nonlinear quantile regression. 
<br><dt><strong>nnet</strong>
<dd>Software for single hidden layer perceptrons ("feed-forward neural
networks"), and for multinomial log-linear models.  Contained in the
<code>VR</code> bundle. 
<br><dt><strong>norm</strong>
<dd>Analysis of multivariate normal datasets with missing values. 
<br><dt><strong>odesolve</strong>
<dd>An interface for the Ordinary Differential Equation (ODE) solver lsoda. 
ODEs are expressed as R functions. 
<br><dt><strong>oz</strong>
<dd>Functions for plotting Australia's coastline and state boundaries. 
<br><dt><strong>panel</strong>
<dd>Functions and datasets for fitting models to Panel data. 
<br><dt><strong>pcurve</strong>
<dd>Fits a principal curve to a numeric multivariate dataset in arbitrary
dimensions.  Produces diagnostic plots.  Also calculates Bray-Curtis and
other distance matrices and performs multi-dimensional scaling and
principal component analyses. 
<br><dt><strong>permax</strong>
<dd>Functions intended to facilitate certain basic analyses of DNA array
data, especially with regard to comparing expression levels between two
types of tissue. 
<br><dt><strong>pinktoe</strong>
<dd>Converts S trees to <small>HTML</small>/Perl files for interactive tree traversal. 
<br><dt><strong>pixmap</strong>
<dd>Functions for import, export, plotting and other manipulations of
bitmapped images. 
<br><dt><strong>polymars</strong>
<dd>Polychotomous regression based on Multivariate Adaptive Regression
Splines. 
<br><dt><strong>polynom</strong>
<dd>A collection of functions to implement a class for univariate polynomial
manipulations. 
<br><dt><strong>princurve</strong>
<dd>Fits a principal curve to a matrix of points in arbitrary dimension. 
<br><dt><strong>pspline</strong>
<dd>Smoothing splines with penalties on order m derivatives. 
<br><dt><strong>qtl</strong>
<dd>Analysis of experimental crosses to identify QTLs. 
<br><dt><strong>quadprog</strong>
<dd>For solving quadratic programming problems. 
<br><dt><strong>quantreg</strong>
<dd>Quantile  regression and related methods. 
<br><dt><strong>rmeta</strong>
<dd>Functions for simple fixed and random effects meta-analysis for
two-sample comparison of binary outcomes. 
<br><dt><strong>rpart</strong>
<dd>Recursive PARTitioning and regression trees. 
<br><dt><strong>rpvm</strong>
<dd>R interface to PVM (Parallel Virtual Machine).  Provides interface to
PVM APIs, and examples and documentation for its use. 
<br><dt><strong>scatterplot3d</strong>
<dd>Plots a three dimensional (3D) point cloud perspectively. 
<br><dt><strong>sem</strong>
<dd>Functions for fitting general linear Structural Equation Models (with
observed and unobserved variables) by the method of maximum likelihood
using the RAM approach. 
<br><dt><strong>sgeostat</strong>
<dd>An object-oriented framework for geostatistical modeling. 
<br><dt><strong>sm</strong>
<dd>Software linked to the book "Applied Smoothing Techniques for Data
Analysis:  The Kernel Approach with <small>S-PLUS</small> Illustrations" by
A. W. Bowman and A. Azzalini (1997), Oxford University Press. 
<br><dt><strong>sma</strong>
<dd>Functions for exploratory (statistical) microarray analysis. 
<br><dt><strong>sn</strong>
<dd>Functions for manipulating skew-normal probability distributions and for
fitting them to data, in the scalar and the multivariate case. 
<br><dt><strong>sna</strong>
<dd>A range of tools for social network analysis, including node and
graph-level indices, structural distance and covariance methods,
structural equivalence detection, p* modeling, and network
visualization. 
<br><dt><strong>spatial</strong>
<dd>Functions for kriging and point pattern analysis from "Modern Applied
Statistics with <small>S-PLUS</small>" by W. Venables and B. Ripley.  Contained in
the <code>VR</code> bundle. 
<br><dt><strong>splancs</strong>
<dd>Spatial and space-time point pattern analysis functions. 
<br><dt><strong>sptests</strong>
<dd>A collection of tests for spatial autocorrelation, including global
Moran's I and Geary's C. 
<br><dt><strong>spweights</strong>
<dd>A collection of functions to create spatial weights matrix objects from
polygon contiguities, from point patterns by distance and tesselations,
for summarising these objects, and for permitting their use in spatial
data analysis. 
<br><dt><strong>strucchange</strong>
<dd>Various tests on structural change in linear regression models. 
<br><dt><strong>survival</strong>
<dd>Functions for survival analysis, including penalised likelihood. 
<br><dt><strong>tensor</strong>
<dd>Tensor product of arrays. 
<br><dt><strong>tree</strong>
<dd>Classification and regression trees. 
<br><dt><strong>tripack</strong>
<dd>A constrained two-dimensional Delaunay triangulation package. 
<br><dt><strong>tseries</strong>
<dd>Package for time series analysis with emphasis on non-linear modelling. 
<br><dt><strong>twostage</strong>
<dd>Functions for optimal design of two-stage-studies using the Mean Score
method. 
<br><dt><strong>vegan</strong>
<dd>Various help functions for vegetation scientists and community
ecologists. 
<br><dt><strong>waveslim</strong>
<dd>Basic wavelet routines for time series analysis. 
<br><dt><strong>wavethresh</strong>
<dd>Software to perform 1-d and 2-d wavelet statistics and transforms. 
<br><dt><strong>wle</strong>
<dd>Robust statistical inference via a weighted likelihood approach. 
<br><dt><strong>xgobi</strong>
<dd>Interface to the XGobi and XGvis programs for graphical data analysis. 
<br><dt><strong>xtable</strong>
<dd>Export data to LaTeX and <small>HTML</small> tables. 
<br><dt><strong>zmatrix</strong>
<dd>Matrices with numeric indices starting at zero rather than one. 
</dl>

<p>See <small>CRAN</small> <code>src/contrib/PACKAGES</code> for more information.

<p>There is also a <small>CRAN</small> <code>src/contrib/Devel</code> directory which
contains packages still "under development" or depending on features
only present in the current development versions of R.  Volunteers are
invited to give these a try, of course.  This area of <small>CRAN</small>
currently contains

<dl>
<dt><strong>DBI</strong>
<dd>A common database interface (DBI) class and method definitions.  All
classes in this package are virtual and need to be extended by the
various DBMS implementations. 
<br><dt><strong>DBI.RODBC</strong>
<dd>A simple DBI front-end to the RODBC package. 
<br><dt><strong>DBI.RPgSQL</strong>
<dd>A simple DBI front-end to the RPgSQL package. 
<br><dt><strong>GRASS</strong>
<dd>Interface between the GRASS geographical information system and R, based
on starting R from within the GRASS environment and chosen LOCATION and
MAPSET.  Wrapper and helper functions are provided for a range of R
functions to match the interface metadata structures. 
<br><dt><strong>R2HTML</strong>
<dd>Functions for exporting R objects &amp; graphics in an <small>HTML</small> document. 
<br><dt><strong>StatDataML</strong>
<dd>Read and write StatDataML. 
<br><dt><strong>cxx</strong>
<dd>A small C++ test package. 
<br><dt><strong>dopt</strong>
<dd>Finding D-optimal experimental designs. 
<br><dt><strong>dseplus</strong>
<dd>Extensions to <strong>dse</strong>, the Dynamic Systems Estimation multivariate
time series package.  Contains PADI, juice and monitoring extensions. 
<br><dt><strong>ensemble</strong>
<dd>Ensembles of tree classifiers. 
<br><dt><strong>hdf5</strong>
<dd>Interface to the <small>NCSA</small> HDF5 library. 
<br><dt><strong>hpower</strong>
<dd>A suite of functions to compute power and sample size for tests of the
general linear hypothesis. 
<br><dt><strong>multidim</strong>
<dd>Code for correspondence analysis and other multidimensional descriptive
statistics. 
<br><dt><strong>multilm</strong>
<dd>A basic method for fitting and testing multivariate linear models,
including stabilized test procedures by Laeuter et. al. 
<br><dt><strong>npConfRatio</strong>
<dd>Nonparametric confidence intervals for the ratios of medians. 
<br><dt><strong>pls</strong>
<dd>Univariate Partial Least Squares Regression. 
<br><dt><strong>regexp</strong>
<dd>Simple regular expression interface. 
<br><dt><strong>write.snns</strong>
<dd>Function for writing a <small>SNNS</small> pattern file from a data frame or
matrix. 
</dl>

<p>Directory <code>src/contrib/Omegahat</code> contains yet unreleased packages
from the <a href="http://www.omegahat.org/">Omegahat Project for Statistical Computing</a>.  Currently, there are

<dl>
<dt><strong>CORBA</strong>
<dd>Dynamic CORBA client/server facilities for R.  Connects to other
CORBA-aware applications developed in arbitrary languages, on different
machines and allows R functionality to be exported in the same way to
other applications. 
<br><dt><strong>OOP</strong>
<dd>OOP style classes and methods for R and <small>S-PLUS</small>.  Object references and
class-based method definition are supported in the style of languages
such as Java and C++. 
<br><dt><strong>REmbeddedPostgres</strong>
<dd>Allows R functions and objects to be used to implement SQL functions --
per-record, aggregate and trigger functions. 
<br><dt><strong>RGnumeric</strong>
<dd>A plugin for the Gnumeric spreadsheet that allows R functions to be
called from cells within the sheet, automatic recalculation, etc. 
<br><dt><strong>RJavaDevice</strong>
<dd>A graphics device for R that uses Java components and graphics
<small>API</small>s. 
<br><dt><strong>RSMethods</strong>
<dd>An implementation of S version 4 methods and classes for R, consistent
with the basic material in "Programming with data" by John
M. Chambers, 1998, Springer NY. 
<br><dt><strong>RSPerl</strong>
<dd>An interface from R to an embedded, persistent Perl interpreter,
allowing one to call arbitrary Perl subroutines, classes and methods. 
<br><dt><strong>RSPython</strong>
<dd>Allows Python programs to invoke S functions, methods, etc., and S code
to call Python functionality. 
<br><dt><strong>SASXML</strong>
<dd>Example for reading XML files in SAS 8.2 manner. 
<br><dt><strong>SJava</strong>
<dd>An interface from R to Java to create and call Java objects and
methods. 
<br><dt><strong>SLanguage</strong>
<dd>Functions and C support utilities to support S language programming
that can work in both R and <small>S-PLUS</small>. 
<br><dt><strong>SNetscape</strong>
<dd>Plugin for Netscape and JavaScript. 
<br><dt><strong>SXalan</strong>
<dd>Process XML documents using XSL functions implemented in R and
dynamically substituting output from R. 
<br><dt><strong>Slcc</strong>
<dd>Parses C source code, allowing one to analyze and automatically generate
interfaces from S to that code, including the table of S-accessible
native symbols, parameter count and type information, S constructors
from C objects, call graphs, etc. 
<br><dt><strong>Sxslt</strong>
<dd>An extension module for libxslt, the XML-XSL document translator, that
allows XSL functions to be implemented via R functions. 
</dl>

<a href="mailto:jlindsey@luc.ac.be">Jim Lindsey</a> has written a collection of R
packages for nonlinear regression and repeated measurements, consisting
of <strong>event</strong> (event history procedures and models), <strong>gnlm</strong>
(generalized nonlinear regression models), <strong>growth</strong> (multivariate
normal and elliptically-contoured repeated measurements models),
<strong>repeated</strong> (non-normal repeated measurements models),
<strong>rmutil</strong> (utilities for nonlinear regression and repeated
measurements), and <strong>stable</strong> (probability functions and
generalized regression models for stable distributions).  All analyses
in the new edition of his book "Models for Repeated Measurements"
(1999, Oxford University Press) were carried out using these packages. 
Jim has also started <strong>dna</strong>, a package with procedures for the
analysis of DNA sequences.  Jim's packages can be obtained from
<a href="http://www.luc.ac.be/~jlindsey/rcode.html">http://www.luc.ac.be/~jlindsey/rcode.html</a>.

<p>More code has been posted to the r-help mailing list, and can be
obtained from the mailing list archive.

<p><hr>
Node:<a name="How%20can%20add-on%20packages%20be%20installed%3f">How can add-on packages be installed?</a>,
Next:<a rel=next href="#How%20can%20add-on%20packages%20be%20used%3f">How can add-on packages be used?</a>,
Previous:<a rel=previous href="#Which%20add-on%20packages%20exist%20for%20R%3f">Which add-on packages exist for R?</a>,
Up:<a rel=up href="#R%20Add-On%20Packages">R Add-On Packages</a>
<br>

<h2>5.2 How can add-on packages be installed?</h2>

<p>(Unix only.)  The add-on packages on <small>CRAN</small> come as gzipped tar
files named <code><var>pkg</var>_<var>version</var>.tar.gz</code>, which may in fact be
"bundles" containing more than one package.  Provided that
<code>tar</code> and <code>gzip</code> are available on your system, type

<pre>$ R CMD INSTALL /path/to/<var>pkg</var>_<var>version</var>.tar.gz
</pre>

<p>at the shell prompt to install to the library tree rooted at the first
directory given in <code>R_LIBS</code> (see below) if this is set and non-null,
and to the default library (the <code>library</code> subdirectory of
<code>R_HOME</code>) otherwise.  (Versions of R prior to 1.3.0 installed to
the default library by default.)

<p>To install to another tree (e.g., your private one), use

<pre>$ R CMD INSTALL -l <var>lib</var> /path/to/<var>pkg</var>_<var>version</var>.tar.gz
</pre>

<p>where <var>lib</var> gives the path to the library tree to install to.

<p>Even more conveniently, you can install and automatically update
packages from within R if you have access to <small>CRAN</small>.  See the
help page for <code>CRAN.packages()</code> for more information.

<p>You can use several library trees of add-on packages.  The easiest way
to tell R to use these is via the environment variable <code>R_LIBS</code>
which should be a colon-separated list of directories at which R library
trees are rooted.  You do not have to specify the default tree in
<code>R_LIBS</code>.  E.g., to use a private tree in <code>$HOME/lib/R</code> and a
public site-wide tree in <code>/usr/local/lib/R-contrib</code>, put

<pre>R_LIBS="$HOME/lib/R:/usr/local/lib/R-contrib"; export R_LIBS
</pre>

<p>into your (Bourne) shell profile or even preferably, add the line

<pre>R_LIBS="$HOME/lib/R:/usr/local/lib/R-contrib"
</pre>

<p>your <code>~/.Renviron</code> file.  (Note that no <code>export</code> statement is
needed or allowed in this file; see the on-line help for <code>Startup</code>
for more information.)

<p><hr>
Node:<a name="How%20can%20add-on%20packages%20be%20used%3f">How can add-on packages be used?</a>,
Next:<a rel=next href="#How%20can%20add-on%20packages%20be%20removed%3f">How can add-on packages be removed?</a>,
Previous:<a rel=previous href="#How%20can%20add-on%20packages%20be%20installed%3f">How can add-on packages be installed?</a>,
Up:<a rel=up href="#R%20Add-On%20Packages">R Add-On Packages</a>
<br>

<h2>5.3 How can add-on packages be used?</h2>

<p>To find out which additional packages are available on your system, type

<pre>library()
</pre>

<p>at the R prompt.

<p>This produces something like

<pre>Packages in `/home/me/lib/R':

mystuff       My own R functions, nicely packaged but not documented

Packages in `/usr/local/lib/R/library':

KernSmooth    Functions for kernel smoothing for Wand &amp; Jones (1995)
MASS          Main Library of Venables and Ripley's MASS
base          The R base package
boot          Bootstrap R (S-Plus) Functions (Canty)
class         Functions for classification
cluster       Functions for clustering (by Rousseeuw et al.)
ctest         Classical Tests
eda           Exploratory Data Analysis
foreign       Read data stored by Minitab, S, SAS, SPSS, Stata, ...
lqs           Resistant Regression and Covariance Estimation
mgcv          Multiple smoothing parameter estimation and GAMs by GCV
modreg        Modern Regression: Smoothing and Local Methods
mva           Classical Multivariate Analysis
nlme          Linear and nonlinear mixed effects models
nls           Nonlinear regression
nnet          Feed-forward neural networks and multinomial log-linear
              models
rpart         Recursive partitioning
spatial       functions for kriging and point pattern analysis
splines       Regression Spline Functions and Classes
stepfun       Step Functions, including Empirical Distributions
survival      Survival analysis, including penalised likelihood
tcltk         Interface to Tcl/Tk
ts            Time series functions
</pre>

<p>You can "load" the installed package <var>pkg</var> by

<pre>library(<var>pkg</var>)
</pre>

<p>You can then find out which functions it provides by typing one of

<pre>library(help = <var>pkg</var>)
help(package = <var>pkg</var>)
</pre>

<p>You can unload the loaded package <var>pkg</var> by

<pre>detach("package:<var>pkg</var>")
</pre>

<p><hr>
Node:<a name="How%20can%20add-on%20packages%20be%20removed%3f">How can add-on packages be removed?</a>,
Next:<a rel=next href="#How%20can%20I%20create%20an%20R%20package%3f">How can I create an R package?</a>,
Previous:<a rel=previous href="#How%20can%20add-on%20packages%20be%20used%3f">How can add-on packages be used?</a>,
Up:<a rel=up href="#R%20Add-On%20Packages">R Add-On Packages</a>
<br>

<h2>5.4 How can add-on packages be removed?</h2>

<p>Use

<pre>$ R CMD REMOVE <var>pkg_1</var> <small>...</small> <var>pkg_n</var>
</pre>

<p>to remove the packages <var>pkg_1</var>, <small>...</small>, <var>pkg_n</var> from the
library tree rooted at the first directory given in <code>R_LIBS</code> if this
is set and non-null, and from the default library otherwise.  (Versions
of R prior to 1.3.0 removed from the default library by default.)

<p>To remove from library <var>lib</var>, do

<pre>$ R CMD REMOVE -l <var>lib</var> <var>pkg_1</var> <small>...</small> <var>pkg_n</var>
</pre>

<p><hr>
Node:<a name="How%20can%20I%20create%20an%20R%20package%3f">How can I create an R package?</a>,
Next:<a rel=next href="#How%20can%20I%20contribute%20to%20R%3f">How can I contribute to R?</a>,
Previous:<a rel=previous href="#How%20can%20add-on%20packages%20be%20removed%3f">How can add-on packages be removed?</a>,
Up:<a rel=up href="#R%20Add-On%20Packages">R Add-On Packages</a>
<br>

<h2>5.5 How can I create an R package?</h2>

<p>A package consists of a subdirectory containing the files
<code>DESCRIPTION</code> and <code>INDEX</code>, and the subdirectories <code>R</code>,
<code>data</code>, <code>demo</code>, <code>exec</code>, <code>inst</code>, <code>man</code>,
<code>src</code>, and <code>tests</code> (some of which can be missing).  Optionally
the package can also contain script files <code>configure</code> and
<code>cleanup</code> which are executed before and after installation.

<p>See section "Creating R packages" in <cite>Writing R Extensions</cite>, for
details. 
This manual is included in the R distribution, see <a href="#What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>, and gives information on package structure, the
configure and cleanup mechanisms, and on automated package checking and
building.

<p>R version 1.3.0 has added the function <code>package.skeleton()</code> which
will set up directories, save data and code, and create skeleton help
files for a set of R functions and datasets.

<p>See <a href="#What%20is%20CRAN%3f">What is CRAN?</a>, for information on uploading a package to CRAN.

<p><hr>
Node:<a name="How%20can%20I%20contribute%20to%20R%3f">How can I contribute to R?</a>,
Previous:<a rel=previous href="#How%20can%20I%20create%20an%20R%20package%3f">How can I create an R package?</a>,
Up:<a rel=up href="#R%20Add-On%20Packages">R Add-On Packages</a>
<br>

<h2>5.6 How can I contribute to R?</h2>

<p>R is in active development and there is always a risk of bugs creeping
in.  Also, the developers do not have access to all possible machines
capable of running R.  So, simply using it and communicating problems is
certainly of great value.

<p>One place where functionality is still missing is the modeling software
as described in "Statistical Models in S" (see <a href="#What%20is%20S%3f">What is S?</a>);
Generalized Additive Models (see <a href="#Are%20GAMs%20implemented%20in%20R%3f">Are GAMs implemented in R?</a>) and
some of the nonlinear modeling code are not there yet.

<p>The <a href="http://developer.r-project.org/">R Developer Page</a> acts as an
intermediate repository for more or less finalized ideas and plans for
the R statistical system.  It contains (pointers to) TODO lists, RFCs,
various other writeups, ideas lists, and CVS miscellanea.

<p>Many (more) of the packages available at the Statlib S Repository might
be worth porting to R.

<p>If you are interested in working on any of these projects, please notify
<a href="mailto:Kurt.Hornik@r-project.org">Kurt Hornik</a>.

<p><hr>
Node:<a name="R%20and%20Emacs">R and Emacs</a>,
Next:<a rel=next href="#R%20Miscellanea">R Miscellanea</a>,
Previous:<a rel=previous href="#R%20Add-On%20Packages">R Add-On Packages</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>6 R and Emacs</h1>

<ul>
<li><a href="#Is%20there%20Emacs%20support%20for%20R%3f">Is there Emacs support for R?</a>: 
<li><a href="#Should%20I%20run%20R%20from%20within%20Emacs%3f">Should I run R from within Emacs?</a>: 
<li><a href="#Debugging%20R%20from%20within%20Emacs">Debugging R from within Emacs</a>: 
</ul>

<p><hr>
Node:<a name="Is%20there%20Emacs%20support%20for%20R%3f">Is there Emacs support for R?</a>,
Next:<a rel=next href="#Should%20I%20run%20R%20from%20within%20Emacs%3f">Should I run R from within Emacs?</a>,
Previous:<a rel=previous href="#R%20and%20Emacs">R and Emacs</a>,
Up:<a rel=up href="#R%20and%20Emacs">R and Emacs</a>
<br>

<h2>6.1 Is there Emacs support for R?</h2>

<p>There is an Emacs package called <small>ESS</small> ("Emacs Speaks
Statistics") which provides a standard interface between statistical
programs and statistical processes.  It is intended to provide
assistance for interactive statistical programming and data analysis. 
Languages supported include: S dialects (S 3/4, <small>S-PLUS</small> 3.x/4.x/5.x,
and R), LispStat dialects (XLispStat, ViSta), SAS, Stata, SPSS dialects
(SPSS, Fiasco) and SCA.

<p><small>ESS</small> grew out of the need for bug fixes and extensions to
S-mode 4.8 (which was a <small>GNU</small> Emacs interface to S/<small>S-PLUS</small>
version 3 only).  The current set of developers desired support for
XEmacs, R, S4, and MS Windows.  In addition, with new modes being
developed for R, Stata, and SAS, it was felt that a unifying interface
and framework for the user interface would benefit both the user and the
developer, by helping both groups conform to standard Emacs usage.  The
end result is an increase in efficiency for statistical programming and
data analysis, over the usual tools.

<p>R support contains code for editing R source code (syntactic indentation
and highlighting of source code, partial evaluations of code, loading
and error-checking of code, and source code revision maintenance) and
documentation (syntactic indentation and highlighting of source code,
sending examples to running <small>ESS</small> process, and previewing),
interacting with an inferior R process from within Emacs (command-line
editing, searchable command history, command-line completion of R object
and file names, quick access to object and search lists, transcript
recording, and an interface to the help system), and transcript
manipulation (recording and saving transcript files, manipulating and
editing saved transcripts, and re-evaluating commands from transcript
files).

<p>The latest versions of <small>ESS</small> are available from
<a href="http://ess.stat.wisc.edu/pub/ESS/">http://ess.stat.wisc.edu/pub/ESS/</a> or
<a href="ftp://ess.stat.wisc.edu/pub/ESS/">ftp://ess.stat.wisc.edu/pub/ESS/</a>, or via <small>CRAN</small>.  The
<small>HTML</small> version of the documentation can be found at
<a href="http://stat.ethz.ch/ESS/">http://stat.ethz.ch/ESS/</a>.

<p><small>ESS</small> comes with detailed installation instructions.

<p>For help with <small>ESS</small>, send email to
<a href="mailto:ESS-help@stat.ethz.ch">ESS-help@stat.ethz.ch</a>.

<p>Please send bug reports and suggestions on <small>ESS</small> to
<a href="mailto:ESS-bugs@stat.math.ethz.ch">ESS-bugs@stat.math.ethz.ch</a>.  The easiest way to do this from is
within Emacs by typing <kbd>M-x ess-submit-bug-report</kbd> or using the
[ESS] or [iESS] pulldown menus.

<p><hr>
Node:<a name="Should%20I%20run%20R%20from%20within%20Emacs%3f">Should I run R from within Emacs?</a>,
Next:<a rel=next href="#Debugging%20R%20from%20within%20Emacs">Debugging R from within Emacs</a>,
Previous:<a rel=previous href="#Is%20there%20Emacs%20support%20for%20R%3f">Is there Emacs support for R?</a>,
Up:<a rel=up href="#R%20and%20Emacs">R and Emacs</a>
<br>

<h2>6.2 Should I run R from within Emacs?</h2>

<p>Yes, <em>definitely</em>.  Inferior R mode provides a readline/history
mechanism, object name completion, and syntax-based highlighting of the
interaction buffer using Font Lock mode, as well as a very convenient
interface to the R help system.

<p>Of course, it also integrates nicely with the mechanisms for editing R
source using Emacs.  One can write code in one Emacs buffer and send
whole or parts of it for execution to R; this is helpful for both data
analysis and programming.  One can also seamlessly integrate with a
revision control system, in order to maintain a log of changes in your
programs and data, as well as to allow for the retrieval of past
versions of the code.

<p>In addition, it allows you to keep a record of your session, which can
also be used for error recovery through the use of the transcript mode.

<p>To specify command line arguments for the inferior R process, use
<kbd>C-u M-x R</kbd> for starting R.

<p><hr>
Node:<a name="Debugging%20R%20from%20within%20Emacs">Debugging R from within Emacs</a>,
Previous:<a rel=previous href="#Should%20I%20run%20R%20from%20within%20Emacs%3f">Should I run R from within Emacs?</a>,
Up:<a rel=up href="#R%20and%20Emacs">R and Emacs</a>
<br>

<h2>6.3 Debugging R from within Emacs</h2>

<p>To debug R "from within Emacs", there are several possibilities.  To
use the Emacs GUD (Grand Unified Debugger) library with the recommended
debugger GDB, type <kbd>M-x gdb</kbd> and give the path to the R
<em>binary</em> as argument.  At the gdb prompt, set <code>R_HOME</code> and
other environment variables as needed (using e.g. <kbd>set env R_HOME
/path/to/R/</kbd>, but see also below), and start the binary with the desired
arguments (e.g., <kbd>run --vsize=12M</kbd>).

<p>If you have <small>ESS</small>, you can do <kbd>C-u M-x R &lt;RET&gt; - d
&lt;SPC&gt; g d b &lt;RET&gt;</kbd> to start an inferior R process with arguments
<code>-d gdb</code>.

<p>A third option is to start an inferior R process via <small>ESS</small>
(<kbd>M-x R</kbd>) and then start GUD (<kbd>M-x gdb</kbd>) giving the R binary
(using its full path name) as the program to debug.  Use the program
<code>ps</code> to find the process number of the currently running R
process then use the <code>attach</code> command in gdb to attach it to that
process.  One advantage of this method is that you have separate
<code>*R*</code> and <code>*gud-gdb*</code> windows.  Within the <code>*R*</code> window
you have all the <small>ESS</small> facilities, such as object-name
completion, that we know and love.

<p>When using GUD mode for debugging from within Emacs, you may find it
most convenient to use the directory with your code in it as the current
working directory and then make a symbolic link from that directory to
the R binary.  That way <code>.gdbinit</code> can stay in the directory with
the code and be used to set up the environment and the search paths for
the source, e.g. as follows:

<pre>set env R_HOME /opt/R
set env R_PAPERSIZE letter
set env R_PRINTCMD lpr
dir /opt/R/src/appl
dir /opt/R/src/main
dir /opt/R/src/nmath
dir /opt/R/src/unix
</pre>

<p><hr>
Node:<a name="R%20Miscellanea">R Miscellanea</a>,
Next:<a rel=next href="#R%20Programming">R Programming</a>,
Previous:<a rel=previous href="#R%20and%20Emacs">R and Emacs</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>7 R Miscellanea</h1>

<ul>
<li><a href="#Why%20does%20R%20run%20out%20of%20memory%3f">Why does R run out of memory?</a>: 
<li><a href="#Why%20does%20sourcing%20a%20correct%20file%20fail%3f">Why does sourcing a correct file fail?</a>: 
<li><a href="#How%20can%20I%20set%20components%20of%20a%20list%20to%20NULL%3f">How can I set components of a list to NULL?</a>: 
<li><a href="#How%20can%20I%20save%20my%20workspace%3f">How can I save my workspace?</a>: 
<li><a href="#How%20can%20I%20clean%20up%20my%20workspace%3f">How can I clean up my workspace?</a>: 
<li><a href="#How%20can%20I%20get%20eval()%20and%20D()%20to%20work%3f">How can I get eval() and D() to work?</a>: 
<li><a href="#Why%20do%20my%20matrices%20lose%20dimensions%3f">Why do my matrices lose dimensions?</a>: 
<li><a href="#How%20does%20autoloading%20work%3f">How does autoloading work?</a>: 
<li><a href="#How%20should%20I%20set%20options%3f">How should I set options?</a>: 
<li><a href="#How%20do%20file%20names%20work%20in%20Windows%3f">How do file names work in Windows?</a>: 
<li><a href="#Why%20does%20plotting%20give%20a%20color%20allocation%20error%3f">Why does plotting give a color allocation error?</a>: 
<li><a href="#How%20do%20I%20convert%20factors%20to%20numeric%3f">How do I convert factors to numeric?</a>: 
<li><a href="#Are%20Trellis%20displays%20implemented%20in%20R%3f">Are Trellis displays implemented in R?</a>: 
<li><a href="#What%20are%20the%20enclosing%20and%20parent%20environments%3f">What are the enclosing and parent environments?</a>: 
<li><a href="#How%20can%20I%20substitute%20into%20a%20plot%20label%3f">How can I substitute into a plot label?</a>: 
<li><a href="#What%20are%20valid%20names%3f">What are valid names?</a>: 
<li><a href="#Are%20GAMs%20implemented%20in%20R%3f">Are GAMs implemented in R?</a>: 
<li><a href="#Why%20is%20the%20output%20not%20printed%20when%20I%20source()%20a%20file%3f">Why is the output not printed when I source() a file?</a>: 
<li><a href="#Why%20does%20outer()%20behave%20strangely%20with%20my%20function%3f">Why does outer() behave strangely with my function?</a>: 
<li><a href="#Why%20does%20the%20output%20from%20anova()%20depend%20on%20the%20order%20of%20factors%20in%20the%20model%3f">Why does the output from anova() depend on the order of factors in the model?</a>: 
</ul>

<p><hr>
Node:<a name="Why%20does%20R%20run%20out%20of%20memory%3f">Why does R run out of memory?</a>,
Next:<a rel=next href="#Why%20does%20sourcing%20a%20correct%20file%20fail%3f">Why does sourcing a correct file fail?</a>,
Previous:<a rel=previous href="#R%20Miscellanea">R Miscellanea</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.1 Why does R run out of memory?</h2>

<p>Versions of R prior to 1.2.0 used a <em>static</em> memory model.  At
startup, R asked the operating system to reserve a fixed amount of
memory for it.  The size of this chunk could not be changed
subsequently.  Hence, it could happen that not enough memory was
allocated, e.g., when trying to read large data sets into R.  In such
cases, it was necessary to restart R with more memory available, as
controlled by the command line options <code>--nsize</code> and
<code>--vsize</code>.

<p>R version 1.2.0 introduces a new "generational" garbage collector,
which will increase the memory available to R as needed.  Hence, user
intervention is no longer necessary for ensuring that enough memory is
available.

<p>The new garbage collector does not move objects in memory, meaning that
it is possible for the free memory to become fragmented so that large
objects cannot be allocated even when there is apparently enough memory
for them.

<p><hr>
Node:<a name="Why%20does%20sourcing%20a%20correct%20file%20fail%3f">Why does sourcing a correct file fail?</a>,
Next:<a rel=next href="#How%20can%20I%20set%20components%20of%20a%20list%20to%20NULL%3f">How can I set components of a list to NULL?</a>,
Previous:<a rel=previous href="#Why%20does%20R%20run%20out%20of%20memory%3f">Why does R run out of memory?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.2 Why does sourcing a correct file fail?</h2>

<p>Versions of R prior to 1.2.1 may have had problems parsing files not
ending in a newline.  Earlier R versions had a similar problem when
reading in data files.  This should no longer happen.

<p><hr>
Node:<a name="How%20can%20I%20set%20components%20of%20a%20list%20to%20NULL%3f">How can I set components of a list to NULL?</a>,
Next:<a rel=next href="#How%20can%20I%20save%20my%20workspace%3f">How can I save my workspace?</a>,
Previous:<a rel=previous href="#Why%20does%20sourcing%20a%20correct%20file%20fail%3f">Why does sourcing a correct file fail?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.3 How can I set components of a list to NULL?</h2>

<p>You can use

<pre>x[i] &lt;- list(NULL)
</pre>

<p>to set component <code>i</code> of the list <code>x</code> to <code>NULL</code>, similarly
for named components.  Do not set <code>x[i]</code> or <code>x[[i]]</code> to
<code>NULL</code>, because this will remove the corresponding component from
the list.

<p>For dropping the row names of a matrix <code>x</code>, it may be easier to use
<code>rownames(x) &lt;- NULL</code>, similarly for column names.

<p><hr>
Node:<a name="How%20can%20I%20save%20my%20workspace%3f">How can I save my workspace?</a>,
Next:<a rel=next href="#How%20can%20I%20clean%20up%20my%20workspace%3f">How can I clean up my workspace?</a>,
Previous:<a rel=previous href="#How%20can%20I%20set%20components%20of%20a%20list%20to%20NULL%3f">How can I set components of a list to NULL?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.4 How can I save my workspace?</h2>

<p><code>save.image()</code> saves the objects in the user's <code>.GlobalEnv</code> to
the file <code>.RData</code> in the R startup directory.  (This is also what
happens after <kbd>q("yes")</kbd>.)  Using <code>save.image(<var>file</var>)</code> one
can save the image under a different name.

<p><hr>
Node:<a name="How%20can%20I%20clean%20up%20my%20workspace%3f">How can I clean up my workspace?</a>,
Next:<a rel=next href="#How%20can%20I%20get%20eval()%20and%20D()%20to%20work%3f">How can I get eval() and D() to work?</a>,
Previous:<a rel=previous href="#How%20can%20I%20save%20my%20workspace%3f">How can I save my workspace?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.5 How can I clean up my workspace?</h2>

<p>To remove all objects in the currently active environment (typically
<code>.GlobalEnv</code>), you can do

<pre>rm(list = ls(all = TRUE))
</pre>

<p>(Without <code>all = TRUE</code>, only the objects with names not starting
with a <code>.</code> are removed.)

<p><hr>
Node:<a name="How%20can%20I%20get%20eval()%20and%20D()%20to%20work%3f">How can I get eval() and D() to work?</a>,
Next:<a rel=next href="#Why%20do%20my%20matrices%20lose%20dimensions%3f">Why do my matrices lose dimensions?</a>,
Previous:<a rel=previous href="#How%20can%20I%20clean%20up%20my%20workspace%3f">How can I clean up my workspace?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.6 How can I get eval() and D() to work?</h2>

<p>Strange things will happen if you use <code>eval(print(x), envir = e)</code>
or <code>D(x^2, "x")</code>.  The first one will either tell you that
"<code>x</code>" is not found, or print the value of the wrong <code>x</code>. 
The other one will likely return zero if <code>x</code> exists, and an error
otherwise.

<p>This is because in both cases, the first argument is evaluated in the
calling environment first.  The result (which should be an object of
mode <code>"expression"</code> or <code>"call"</code>) is then evaluated or
differentiated.  What you (most likely) really want is obtained by
"quoting" the first argument upon surrounding it with
<code>expression()</code>.  For example,

<pre>R&gt; D(expression(x^2), "x")
2 * x
</pre>

<p>Although this behavior may initially seem to be rather strange, is
perfectly logical.  The "intuitive" behavior could easily be
implemented, but problems would arise whenever the expression is
contained in a variable, passed as a parameter, or is the result of a
function call.  Consider for instance the semantics in cases like

<pre>D2 &lt;- function(e, n) D(D(e, n), n)
</pre>

<p>or

<pre>g &lt;- function(y) eval(substitute(y), sys.frame(sys.parent(n = 2)))
g(a * b)
</pre>

<p>See the help page for <code>deriv()</code> for more examples.

<p><hr>
Node:<a name="Why%20do%20my%20matrices%20lose%20dimensions%3f">Why do my matrices lose dimensions?</a>,
Next:<a rel=next href="#How%20does%20autoloading%20work%3f">How does autoloading work?</a>,
Previous:<a rel=previous href="#How%20can%20I%20get%20eval()%20and%20D()%20to%20work%3f">How can I get eval() and D() to work?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.7 Why do my matrices lose dimensions?</h2>

<p>When a matrix with a single row or column is created by a subscripting
operation, e.g., <code>row &lt;- mat[2, ]</code>, it is by default turned into a
vector.  In a similar way if an array with dimension, say, 2&nbsp;x&nbsp;3&nbsp;x&nbsp;1&nbsp;x&nbsp;4 is created by subscripting it will be coerced into a 2&nbsp;x&nbsp;3&nbsp;x&nbsp;4
array, losing the unnecessary dimension.  After much discussion this has
been determined to be a <em>feature</em>.

<p>To prevent this happening, add the option <code>drop = FALSE</code> to the
subscripting.  For example,

<pre>rowmatrix &lt;- mat[2, , drop = FALSE]  # creates a row matrix
colmatrix &lt;- mat[, 2, drop = FALSE]  # creates a column matrix
a &lt;- b[1, 1, 1, drop = FALSE]        # creates a 1 x 1 x 1 array
</pre>

<p>The <code>drop = FALSE</code> option should be used defensively when
programming.  For example, the statement

<pre>somerows &lt;- mat[index, ]
</pre>

<p>will return a vector rather than a matrix if <code>index</code> happens to
have length 1, causing errors later in the code.  It should probably be
rewritten as

<pre>somerows &lt;- mat[index, , drop = FALSE]
</pre>

<p><hr>
Node:<a name="How%20does%20autoloading%20work%3f">How does autoloading work?</a>,
Next:<a rel=next href="#How%20should%20I%20set%20options%3f">How should I set options?</a>,
Previous:<a rel=previous href="#Why%20do%20my%20matrices%20lose%20dimensions%3f">Why do my matrices lose dimensions?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.8 How does autoloading work?</h2>

<p>R has a special environment called <code>.AutoloadEnv</code>.  Using
<kbd>autoload(<var>name</var>, <var>pkg</var>)</kbd>, where <var>name</var> and
<var>pkg</var> are strings giving the names of an object and the package
containing it, stores some information in this environment.  When R
tries to evaluate <var>name</var>, it loads the corresponding package
<var>pkg</var> and reevaluates <var>name</var> in the new package's
environment.

<p>Using this mechanism makes R behave as if the package was loaded, but
does not occupy memory (yet).

<p>See the help page for <code>autoload()</code> for a very nice example.

<p><hr>
Node:<a name="How%20should%20I%20set%20options%3f">How should I set options?</a>,
Next:<a rel=next href="#How%20do%20file%20names%20work%20in%20Windows%3f">How do file names work in Windows?</a>,
Previous:<a rel=previous href="#How%20does%20autoloading%20work%3f">How does autoloading work?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.9 How should I set options?</h2>

<p>The function <code>options()</code> allows setting and examining a variety of
global "options" which affect the way in which R computes and displays
its results.  The variable <code>.Options</code> holds the current values of
these options, but should never directly be assigned to unless you want
to drive yourself crazy--simply pretend that it is a "read-only"
variable.

<p>For example, given

<pre>test1 &lt;- function(x = pi, dig = 3) {
  oo &lt;- options(digits = dig); on.exit(options(oo));
  cat(.Options$digits, x, "\n")
}
test2 &lt;- function(x = pi, dig = 3) {
  .Options$digits &lt;- dig
  cat(.Options$digits, x, "\n")
}
</pre>

<p>we obtain:

<pre>R&gt; test1()
3 3.14
R&gt; test2()
3 3.141593
</pre>

<p>What is really used is the <em>global</em> value of <code>.Options</code>, and
using <kbd>options(OPT = VAL)</kbd> correctly updates it.  Local copies of
<code>.Options</code>, either in <code>.GlobalEnv</code> or in a function
environment (frame), are just silently disregarded.

<p><hr>
Node:<a name="How%20do%20file%20names%20work%20in%20Windows%3f">How do file names work in Windows?</a>,
Next:<a rel=next href="#Why%20does%20plotting%20give%20a%20color%20allocation%20error%3f">Why does plotting give a color allocation error?</a>,
Previous:<a rel=previous href="#How%20should%20I%20set%20options%3f">How should I set options?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.10 How do file names work in Windows?</h2>

<p>As R uses C-style string handling, <code>\</code> is treated as an escape
character, so that for example one can enter a newline as <code>\n</code>. 
When you really need a <code>\</code>, you have to escape it with another
<code>\</code>.

<p>Thus, in filenames use something like <code>"c:\\data\\money.dat"</code>.  You
can also replace <code>\</code> by <code>/</code> (<code>"c:/data/money.dat"</code>).

<p><hr>
Node:<a name="Why%20does%20plotting%20give%20a%20color%20allocation%20error%3f">Why does plotting give a color allocation error?</a>,
Next:<a rel=next href="#How%20do%20I%20convert%20factors%20to%20numeric%3f">How do I convert factors to numeric?</a>,
Previous:<a rel=previous href="#How%20do%20file%20names%20work%20in%20Windows%3f">How do file names work in Windows?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.11 Why does plotting give a color allocation error?</h2>

<p>Sometimes plotting, e.g., when running <code>demo(image)</code>, results in
"Error: color allocation error".  This is an X problem, and only
indirectly related to R.  It occurs when applications started prior to R
have used all the available colors.  (How many colors are available
depends on the X configuration; sometimes only 256 colors can be used.)

<p>One application which is notorious for "eating" colors is Netscape. 
If the problem occurs when Netscape is running, try (re)starting it with
either the <code>-no-install</code> (to use the default colormap) or the
<code>-install</code> (to install a private colormap) option.

<p>You could also set the <code>colortype</code> of <code>X11()</code> to
<code>"pseudo.cube"</code> rather than the default <code>"pseudo"</code>.  See the
help page for <code>X11()</code> for more information.

<p><hr>
Node:<a name="How%20do%20I%20convert%20factors%20to%20numeric%3f">How do I convert factors to numeric?</a>,
Next:<a rel=next href="#Are%20Trellis%20displays%20implemented%20in%20R%3f">Are Trellis displays implemented in R?</a>,
Previous:<a rel=previous href="#Why%20does%20plotting%20give%20a%20color%20allocation%20error%3f">Why does plotting give a color allocation error?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.12 How do I convert factors to numeric?</h2>

<p>It may happen that when reading numeric data into R (usually, when
reading in a file), they come in as factors.  If <code>f</code> is such a
factor object, you can use

<pre>as.numeric(as.character(f))
</pre>

<p>to get the numbers back.  More efficient, but harder to remember, is

<pre>as.numeric(levels(f))[as.integer(f)]
</pre>

<p>In any case, do not call <code>as.numeric()</code> or their likes directly.

<p><hr>
Node:<a name="Are%20Trellis%20displays%20implemented%20in%20R%3f">Are Trellis displays implemented in R?</a>,
Next:<a rel=next href="#What%20are%20the%20enclosing%20and%20parent%20environments%3f">What are the enclosing and parent environments?</a>,
Previous:<a rel=previous href="#How%20do%20I%20convert%20factors%20to%20numeric%3f">How do I convert factors to numeric?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.13 Are Trellis displays implemented in R?</h2>

<p>An R package called <strong>lattice</strong>, which provides graphical
functionality that is compatible with most Trellis commands, is under
development.  The latest version of the package may be downloaded from
the <code>contrib/Devel</code> area of <small>CRAN</small>.  <strong>lattice</strong>
currently relies on another package called <strong>grid</strong> (also under
development) so you will need to download that as well.  Because these
packages are under active development, they might only work with the
latest development version of R.

<p>You could also look at <code>coplot()</code> and <code>dotchart()</code> which might
do at least some of what you want.  Note also that the R version of
<code>pairs()</code> is fairly general and provides most of the functionality
of <code>splom()</code>, and that R's default plot method has an argument
<code>asp</code> allowing to specify (and fix against device resizing) the
aspect ratio of the plot.

<p>(Because the word "Trellis" has been claimed as a trademark we do not
use it in R.  The name "lattice" has been proposed for the R
equivalent.)

<p><hr>
Node:<a name="What%20are%20the%20enclosing%20and%20parent%20environments%3f">What are the enclosing and parent environments?</a>,
Next:<a rel=next href="#How%20can%20I%20substitute%20into%20a%20plot%20label%3f">How can I substitute into a plot label?</a>,
Previous:<a rel=previous href="#Are%20Trellis%20displays%20implemented%20in%20R%3f">Are Trellis displays implemented in R?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.14 What are the enclosing and parent environments?</h2>

<p>Inside a function you may want to access variables in two additional
environments: the one that the function was defined in ("enclosing"),
and the one it was invoked in ("parent").

<p>If you create a function at the command line or load it in a package its
enclosing environment is the global workspace.  If you define a function
<code>f()</code> inside another function <code>g()</code> its enclosing environment
is the environment inside <code>g()</code>.  The enclosing environment for a
function is fixed when the function is created.  You can find out the
enclosing environment for a function <code>f()</code> using
<code>environment(f)</code>.

<p>The "parent" environment, on the other hand, is defined when you
invoke a function.  If you invoke <code>lm()</code> at the command line its
parent environment is the global workspace, if you invoke it inside a
function <code>f()</code> then its parent environment is the environment
inside <code>f()</code>.  You can find out the parent environment for an
invocation of a function by using <code>parent.frame()</code> or
<code>sys.frame(sys.parent())</code>.

<p>So for most user-visible functions the enclosing environment will be the
global workspace, since that is where most functions are defined.  The
parent environment will be wherever the function happens to be called
from.  If a function <code>f()</code> is defined inside another function
<code>g()</code> it will probably be used inside <code>g()</code> as well, so its
parent environment and enclosing environment will probably be the same.

<p>Parent environments are important because things like model formulas
need to be evaluated in the environment the function was called from,
since that's where all the variables will be available.  This relies on
the parent environment being potentially different with each invocation.

<p>Enclosing environments are important because a function can use
variables in the enclosing environment to share information with other
functions or with other invocations of itself (see the section on
lexical scoping).  This relies on the enclosing environment being the
same each time the function is invoked.

<p>Scoping <em>is</em> hard.  Looking at examples helps.  It is particularly
instructive to look at examples that work differently in R and S and try
to see why they differ.  One way to describe the scoping differences
between R and S is to say that in S the enclosing environment is
<em>always</em> the global workspace, but in R the enclosing environment
is wherever the function was created.

<p><hr>
Node:<a name="How%20can%20I%20substitute%20into%20a%20plot%20label%3f">How can I substitute into a plot label?</a>,
Next:<a rel=next href="#What%20are%20valid%20names%3f">What are valid names?</a>,
Previous:<a rel=previous href="#What%20are%20the%20enclosing%20and%20parent%20environments%3f">What are the enclosing and parent environments?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.15 How can I substitute into a plot label?</h2>

<p>Often, it is desired to use the value of an R object in a plot label,
e.g., a title.  This is easily accomplished using <code>paste()</code> if the
label is a simple character string, but not always obvious in case the
label is an expression (for refined mathematical annotation).  In such a
case, either use <code>parse()</code> on your pasted character string or use
<code>substitute()</code> on an expression.  For example, if <code>ahat</code> is an
estimator of your parameter a of interest, use

<pre>title(substitute(hat(a) == ahat, list(ahat = ahat)))
</pre>

<p>(note that it is <code>==</code> and not <code>=</code>).  There are more worked
examples in the mailing list achives.

<p><hr>
Node:<a name="What%20are%20valid%20names%3f">What are valid names?</a>,
Next:<a rel=next href="#Are%20GAMs%20implemented%20in%20R%3f">Are GAMs implemented in R?</a>,
Previous:<a rel=previous href="#How%20can%20I%20substitute%20into%20a%20plot%20label%3f">How can I substitute into a plot label?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.16 What are valid names?</h2>

<p>When creating data frames using <code>data.frame()</code> or
<code>read.table()</code>, R by default ensures that the variable names are
syntactically valid.  (The argument <code>check.names</code> to these
functions controls whether variable names are checked and adjusted by
<code>make.names()</code> if needed.)

<p>To understand what names are "valid", one needs to take into account
that the term "name" is used in several different (but related) ways
in the language:

<ol type=1 start=1>
</p><li>A <em>syntactic name</em> is a string the parser interprets as this type
of expression.  It consists of letters, numbers, and the dot character
and starts with a letter or the dot.

<li>An <em>object name</em> is a string associated with an object that is
assigned in an expression either by having the object name on the left
of an assignment operation or as an argument to the <code>assign()</code>
function.  It is usually a syntactic name as well, but can be any
non-empty string if it is quoted (and it is always quoted in the call to
<code>assign()</code>).

<li>An <em>argument name</em> is what appears to the left of the equals sign
when supplying an argument in a function call (for example,
<code>f(trim=.5)</code>).  Argument names are also usually syntactic names,
but again can be anything if they are quoted.

<li>An <em>element name</em> is a string that identifies a piece of an object
(a component of a list, for example.)  When it is used on the right of
the <code>$</code> operator, it must be a syntactic name, or quoted. 
Otherwise, element names can be any strings.  (When an object is used as
a database, as in a call to <code>eval()</code> or <code>attach()</code>, the
element names become object names.)

<li>Finally, a <em>file name</em> is a string identifying a file in the
operating system for reading, writing, etc.  It really has nothing much
to do with names in the language, but it is traditional to call these
strings file "names".
</ol>

<p><hr>
Node:<a name="Are%20GAMs%20implemented%20in%20R%3f">Are GAMs implemented in R?</a>,
Next:<a rel=next href="#Why%20is%20the%20output%20not%20printed%20when%20I%20source()%20a%20file%3f">Why is the output not printed when I source() a file?</a>,
Previous:<a rel=previous href="#What%20are%20valid%20names%3f">What are valid names?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.17 Are GAMs implemented in R?</h2>

<p>There is a <code>gam()</code> function for Generalized Additive Models in
package <strong>mgcv</strong>, but it is not an exact clone of what is described
in the White Book (no <code>lo()</code> for example).  Package <strong>gss</strong>
can fit spline-based GAMs too.  And if you can accept regression splines
you can use <code>glm()</code>.  For gaussian GAMs you can use <code>bruto()</code>
from package <strong>mda</strong>.

<p><hr>
Node:<a name="Why%20is%20the%20output%20not%20printed%20when%20I%20source()%20a%20file%3f">Why is the output not printed when I source() a file?</a>,
Next:<a rel=next href="#Why%20does%20outer()%20behave%20strangely%20with%20my%20function%3f">Why does outer() behave strangely with my function?</a>,
Previous:<a rel=previous href="#Are%20GAMs%20implemented%20in%20R%3f">Are GAMs implemented in R?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.18 Why is the output not printed when I source() a file?</h2>

<p>Most R commands do not generate any output. The command

<pre>1+1
</pre>

<p>computes the value 2 and returns it; the command

<pre>summary(glm(y~x+z, family=binomial))
</pre>

<p>fits a logistic regression model, computes some summary information and
returns an object of class <code>"summary.glm"</code> (see <a href="#How%20should%20I%20write%20summary%20methods%3f">How should I write summary methods?</a>).

<p>If you type <code>1+1</code> or <code>summary(glm(y~x+z, family=binomial))</code> at
the command line the returned value is automatically printed (unless it
is <code>invisible()</code>), but in other circumstances, such as in a
<code>source()</code>d file or inside a function it isn't printed unless you
specifically print it.

<p>To print the value use

<pre>print(1+1)
</pre>

<p>or

<pre>print(summary(glm(y~x+z, family=binomial)))
</pre>

<p>instead, or use <code>source(<var>file</var>, echo=TRUE)</code>.

<p><hr>
Node:<a name="Why%20does%20outer()%20behave%20strangely%20with%20my%20function%3f">Why does outer() behave strangely with my function?</a>,
Next:<a rel=next href="#Why%20does%20the%20output%20from%20anova()%20depend%20on%20the%20order%20of%20factors%20in%20the%20model%3f">Why does the output from anova() depend on the order of factors in the model?</a>,
Previous:<a rel=previous href="#Why%20is%20the%20output%20not%20printed%20when%20I%20source()%20a%20file%3f">Why is the output not printed when I source() a file?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.19 Why does outer() behave strangely with my function?</h2>

<p>As the help for <code>outer()</code> indicates, it does not work on arbitrary
functions the way the <code>apply()</code> family does.  It requires functions
that are vectorized to work elementwise on arrays.  As you can see by
looking at the code, <code>outer(x, y, FUN)</code> creates two large vectors
containing every possible combination of elements of <code>x</code> and
<code>y</code> and then passes this to <code>FUN</code> all at once.  Your function
probably cannot handle two large vectors as parameters.

<p>If you have a function that cannot handle two vectors but can handle two
scalars, then you can still use <code>outer()</code> but you will need to wrap
your function up first, to simulate vectorized behavior.  Suppose your
function is

<pre>foo &lt;- function(x, y, happy) {
  stopifnot(length(x) == 1, length(y) == 1) # scalars only!
  (x + y) * happy
}
</pre>

<p>If you define the general function

<pre>wrapper &lt;- function(x, y, my.fun, ...) {
  sapply(seq(along=x), FUN = function(i) my.fun(x[i], y[i], ...))
}
</pre>

<p>then you can use <code>outer()</code> by writing, e.g.,

<pre>outer(1:4, 1:2, FUN = wrapper, my.fun = foo, happy = 10)
</pre>

<p><hr>
Node:<a name="Why%20does%20the%20output%20from%20anova()%20depend%20on%20the%20order%20of%20factors%20in%20the%20model%3f">Why does the output from anova() depend on the order of factors in the model?</a>,
Previous:<a rel=previous href="#Why%20does%20outer()%20behave%20strangely%20with%20my%20function%3f">Why does outer() behave strangely with my function?</a>,
Up:<a rel=up href="#R%20Miscellanea">R Miscellanea</a>
<br>

<h2>7.20 Why does the output from anova() depend on the order of factors in the model?</h2>

<p>In a model such as <code>~A+B+A:B</code>, R will report the difference in sums
of squares between the models <code>~1</code>, <code>~A</code>, <code>~A+B</code> and
<code>~A+B+A:B</code>.  If the model were <code>~B+A+A:B</code>, R would report
differences between <code>~1</code>, <code>~B</code>, <code>~A+B</code>, and
<code>~A+B+A:B</code> . In the first case the sum of squares for <code>A</code> is
comparing <code>~1</code> and <code>~A</code>, in the second case it is comparing
<code>~B</code> and <code>~B+A</code>.  In a non-orthogonal design (i.e., most
unbalanced designs) these comparisons are (conceptually and numerically)
different.

<p>Some packages report instead the sums of squares based on comparing the
full model to the models with each factor removed one at a time (the
famous `Type III sums of squares' from SAS, for example).  These do not
depend on the order of factors in the model.  The question of which set
of sums of squares is the Right Thing provokes low-level holy wars on
r-help from time to time.

<p>There is no need to be agitated about the particular sums of squares
that R reports.  You can compute your favorite sums of squares quite
easily.  Any two models can be compared with <code>anova(model1,
model2)</code>, and <code>drop1(model1)</code> will show the sums of squares
resulting from dropping single terms.

<p><hr>
Node:<a name="R%20Programming">R Programming</a>,
Next:<a rel=next href="#R%20Bugs">R Bugs</a>,
Previous:<a rel=previous href="#R%20Miscellanea">R Miscellanea</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>8 R Programming</h1>

<ul>
<li><a href="#How%20should%20I%20write%20summary%20methods%3f">How should I write summary methods?</a>: 
<li><a href="#How%20can%20I%20debug%20dynamically%20loaded%20code%3f">How can I debug dynamically loaded code?</a>: 
<li><a href="#How%20can%20I%20inspect%20R%20objects%20when%20debugging%3f">How can I inspect R objects when debugging?</a>: 
<li><a href="#How%20can%20I%20change%20compilation%20flags%3f">How can I change compilation flags?</a>: 
</ul>

<p><hr>
Node:<a name="How%20should%20I%20write%20summary%20methods%3f">How should I write summary methods?</a>,
Next:<a rel=next href="#How%20can%20I%20debug%20dynamically%20loaded%20code%3f">How can I debug dynamically loaded code?</a>,
Previous:<a rel=previous href="#R%20Programming">R Programming</a>,
Up:<a rel=up href="#R%20Programming">R Programming</a>
<br>

<h2>8.1 How should I write summary methods?</h2>

<p>Suppose you want to provide a summary method for class <code>foo</code>.  Then
<code>summary.foo()</code> should not print anything, but return an object of
class <code>"summary.foo"</code>, <em>and</em> you should write a method
<code>print.summary.foo()</code> which nicely prints the summary information
and invisibly returns its object.  This approach is preferred over
having <code>summary.foo()</code> print summary information and return
something useful, as sometimes you need to grab something computed by
<code>summary()</code> inside a function or similar.  In such cases you don't
want anything printed.

<p><hr>
Node:<a name="How%20can%20I%20debug%20dynamically%20loaded%20code%3f">How can I debug dynamically loaded code?</a>,
Next:<a rel=next href="#How%20can%20I%20inspect%20R%20objects%20when%20debugging%3f">How can I inspect R objects when debugging?</a>,
Previous:<a rel=previous href="#How%20should%20I%20write%20summary%20methods%3f">How should I write summary methods?</a>,
Up:<a rel=up href="#R%20Programming">R Programming</a>
<br>

<h2>8.2 How can I debug dynamically loaded code?</h2>

<p>Roughly speaking, you need to start R inside the debugger, load the
code, send an interrupt, and then set the required breakpoints.

<p>See section "Finding entry points in dynamically loaded code" in
<cite>Writing R Extensions</cite>. 
This manual is included in the R distribution, see <a href="#What%20documentation%20exists%20for%20R%3f">What documentation exists for R?</a>.

<p><hr>
Node:<a name="How%20can%20I%20inspect%20R%20objects%20when%20debugging%3f">How can I inspect R objects when debugging?</a>,
Next:<a rel=next href="#How%20can%20I%20change%20compilation%20flags%3f">How can I change compilation flags?</a>,
Previous:<a rel=previous href="#How%20can%20I%20debug%20dynamically%20loaded%20code%3f">How can I debug dynamically loaded code?</a>,
Up:<a rel=up href="#R%20Programming">R Programming</a>
<br>

<h2>8.3 How can I inspect R objects when debugging?</h2>

<p>The most convenient way is to call <code>R_PV</code> from the symbolic
debugger.

<p>See section "Inspecting R objects when debugging" in <cite>Writing R
Extensions</cite>.

<p><hr>
Node:<a name="How%20can%20I%20change%20compilation%20flags%3f">How can I change compilation flags?</a>,
Previous:<a rel=previous href="#How%20can%20I%20inspect%20R%20objects%20when%20debugging%3f">How can I inspect R objects when debugging?</a>,
Up:<a rel=up href="#R%20Programming">R Programming</a>
<br>

<h2>8.4 How can I change compilation flags?</h2>

<p>Suppose you have C code file for dynloading into R, but you want to use
<code>R CMD SHLIB</code> with compilation flags other than the default ones
(which were determined when R was built).  You could change the file
<code><code>R_HOME</code>/etc/Makeconf</code> to reflect your preferences.  If you
are a Bourne shell user, you can also pass the desired flags to Make
(which is used for controlling compilation) via the Make variable
<code>MAKEFLAGS</code>, as in

<pre>MAKEFLAGS="CFLAGS=-O3" R CMD SHLIB *.c
</pre>

<p><hr>
Node:<a name="R%20Bugs">R Bugs</a>,
Next:<a rel=next href="#Acknowledgments">Acknowledgments</a>,
Previous:<a rel=previous href="#R%20Programming">R Programming</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>9 R Bugs</h1>

<ul>
<li><a href="#What%20is%20a%20bug%3f">What is a bug?</a>: 
<li><a href="#How%20to%20report%20a%20bug">How to report a bug</a>: 
</ul>

<p><hr>
Node:<a name="What%20is%20a%20bug%3f">What is a bug?</a>,
Next:<a rel=next href="#How%20to%20report%20a%20bug">How to report a bug</a>,
Previous:<a rel=previous href="#R%20Bugs">R Bugs</a>,
Up:<a rel=up href="#R%20Bugs">R Bugs</a>
<br>

<h2>9.1 What is a bug?</h2>

<p>If R executes an illegal instruction, or dies with an operating system
error message that indicates a problem in the program (as opposed to
something like "disk full"), then it is certainly a bug.  If you call
<code>.C()</code>, <code>.Fortran()</code>, <code>.External()</code> or <code>.Call()</code> (or
<code>.Internal()</code>) yourself (or in a function you wrote), you can
always crash R by using wrong argument types (modes).  This is not a
bug.

<p>Taking forever to complete a command can be a bug, but you must make
certain that it was really R's fault.  Some commands simply take a long
time.  If the input was such that you <em>know</em> it should have been
processed quickly, report a bug.  If you don't know whether the command
should take a long time, find out by looking in the manual or by asking
for assistance.

<p>If a command you are familiar with causes an R error message in a case
where its usual definition ought to be reasonable, it is probably a bug. 
If a command does the wrong thing, that is a bug.  But be sure you know
for certain what it ought to have done.  If you aren't familiar with the
command, or don't know for certain how the command is supposed to work,
then it might actually be working right.  Rather than jumping to
conclusions, show the problem to someone who knows for certain.

<p>Finally, a command's intended definition may not be best for statistical
analysis.  This is a very important sort of problem, but it is also a
matter of judgment.  Also, it is easy to come to such a conclusion out
of ignorance of some of the existing features.  It is probably best not
to complain about such a problem until you have checked the
documentation in the usual ways, feel confident that you understand it,
and know for certain that what you want is not available.  If you are
not sure what the command is supposed to do after a careful reading of
the manual this indicates a bug in the manual.  The manual's job is to
make everything clear.  It is just as important to report documentation
bugs as program bugs.  However, we know that the introductory
documentation is seriously inadequate, so you don't need to report this.

<p>If the online argument list of a function disagrees with the manual, one
of them must be wrong, so report the bug.

<p><hr>
Node:<a name="How%20to%20report%20a%20bug">How to report a bug</a>,
Previous:<a rel=previous href="#What%20is%20a%20bug%3f">What is a bug?</a>,
Up:<a rel=up href="#R%20Bugs">R Bugs</a>
<br>

<h2>9.2 How to report a bug</h2>

<p>When you decide that there is a bug, it is important to report it and to
report it in a way which is useful.  What is most useful is an exact
description of what commands you type, starting with the shell command
to run R, until the problem happens.  Always include the version of R,
machine, and operating system that you are using; type <kbd>version</kbd> in
R to print this.

<p>The most important principle in reporting a bug is to report
<em>facts</em>, not hypotheses or categorizations.  It is always easier to
report the facts, but people seem to prefer to strain to posit
explanations and report them instead.  If the explanations are based on
guesses about how R is implemented, they will be useless; others will
have to try to figure out what the facts must have been to lead to such
speculations.  Sometimes this is impossible.  But in any case, it is
unnecessary work for the ones trying to fix the problem.

<p>For example, suppose that on a data set which you know to be quite large
the command

<pre>R&gt; data.frame(x, y, z, monday, tuesday)
</pre>

<p>never returns.  Do not report that <code>data.frame()</code> fails for large
data sets.  Perhaps it fails when a variable name is a day of the week. 
If this is so then when others got your report they would try out the
<code>data.frame()</code> command on a large data set, probably with no day of
the week variable name, and not see any problem.  There is no way in the
world that others could guess that they should try a day of the week
variable name.

<p>Or perhaps the command fails because the last command you used was a
method for <code>"["()</code> that had a bug causing R's internal data
structures to be corrupted and making the <code>data.frame()</code> command
fail from then on.  This is why others need to know what other commands
you have typed (or read from your startup file).

<p>It is very useful to try and find simple examples that produce
apparently the same bug, and somewhat useful to find simple examples
that might be expected to produce the bug but actually do not.  If you
want to debug the problem and find exactly what caused it, that is
wonderful.  You should still report the facts as well as any
explanations or solutions.  Please include an example that reproduces
the problem, preferably the simplest one you have found.

<p>Invoking R with the <code>--vanilla</code> option may help in isolating a
bug.  This ensures that the site profile and saved data files are not
read.

<p>On Unix systems a bug report can be generated using the function
<code>bug.report()</code>.  This automatically includes the version
information and sends the bug to the correct address.  Alternatively the
bug report can be emailed to <a href="mailto:r-bugs@r-project.org">r-bugs@r-project.org</a> or submitted
to the Web page at <a href="http://bugs.r-project.org/">http://bugs.r-project.org/</a>.

<p>Bug reports on contributed packages should perhaps be sent to the
package maintainer rather than to r-bugs.

<p><hr>
Node:<a name="Acknowledgments">Acknowledgments</a>,
Previous:<a rel=previous href="#R%20Bugs">R Bugs</a>,
Up:<a rel=up href="#Top">Top</a>
<br>

<h1>10 Acknowledgments</h1>

<p>Of course, many many thanks to Robert and Ross for the R system, and to
the package writers and porters for adding to it.

<p>Special thanks go to Doug Bates, Peter Dalgaard, Paul Gilbert, Stefano
Iacus, Fritz Leisch, Jim Lindsey, Thomas Lumley, Martin Maechler, Brian
D. Ripley, Anthony Rossini, and Andreas Weingessel for their comments
which helped me improve this <small>FAQ</small>.

<p>More to some soon <small>...</small>

</body></html>

