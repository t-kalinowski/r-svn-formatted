NB: this is in the process of conversion of R scripts.  These
instructions may not be current.

The Makefile.in.in here was originally produced by gettextize, but has
since been modified extensively.

If you convert a C file for use with gettext, add it to POTFILES.in and
then run

	make update-po

to recreate R.pot and update the automated `translations'.

Target

	make update-pkg-po

updates the message catalogs for the C and R code in the standard packages,
uses msgmerge --update to update the translations and then re-makes the
compiled (.mo) files.

To do this for an individual standard package use

	make pkg-update PKG=<pkgname>

If you add a package, R-level catalogs are produced automatically but
for a C-level catalog you need to touch path/to/package/po/package.pot.

To add a new translation, add the lang.po file to this directory and
add the language to LINGUAS, and translators to THANKS.

If there are no problems with the translations 'make all R' (in the
builddir, if separate) will do the rest (create ll.gmo and install it
as required).  For fuller manual control, use

	msgfmt -c --statistics -o ll.gmo ll.po

to check and compile the translation, and

	mkdir R_BUILD_DIR/share/locale/ll/LC_MESSAGES
	cp ll.gmo R_BUILD_DIR/share/locale/ll/LC_MESSAGES/R.mo

to install it manually for testing.

An R-core member, after fixing a translation file, e.g.,
   	../src/library/<pkg>/po/R-<ll>.po
needs to use msgfmt as above, e.g., inside the <pkg>/po/ directory,
        msgfmt -c --statistics -o R-<ll>.gmo R-<ll>.po
and     mv R-<ll>.gmo ../inst/po/<ll>/LC_MESSAGES/R-tools.mo



Windows RGui translations
=========================

These are contained in RGui.pot, and translations should be called
RGui-ll.po for language 'll'.

To re-make RGui.pot and all the translations use 'make update-RGui'
('make -f Makefile.win update-RGui' on Windows).

(All RGui-*.gmo files will installed to the right places when 'make -f
Makefile.win' is run in this directory, which is part of the main
'make' process on Windows.)


Adding translations to other packages
=====================================

See 'Writing R Extensions'.


Note to FreeBSD and OS X users
==============================

NB: FreeBSD's sed does not work correctly (it appends LF to every
line), so GNU sed is required.  Set the environment variable SED as
needed.


Subversion note
===============

If you need to add a en@auot file, the current incantation appears to be

svn add .../en@quot.po@

with a trailing @.
