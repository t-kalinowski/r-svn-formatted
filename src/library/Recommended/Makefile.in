#
# ${R_HOME}/src/library/Recommended/Makefile

VPATH = @srcdir@
srcdir = @srcdir@
top_srcdir = @top_srcdir@

top_builddir = ../../..
subdir = src/library/Recommended

include $(top_builddir)/Makeconf

distdir = $(top_builddir)/$(PACKAGE)-$(VERSION)/$(subdir)
DISTFILES = Makefile.in .cvsignore
R = $(top_builddir)/bin/R

CLEANFILES = Timestamp
DISTCLEANFILES = Makefile

all: Makefile @USE_RECOMMENDED_PACKAGES_TRUE@ stamp-recommended

Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
	@cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@

stamp-recommended: Timestamp
	@for pkg in $(R_PKGS_RECOMMENDED); do \
	  for file in $(srcdir)/$${pkg}_*.tar.gz; do \
	    if test $${file} -nt Timestamp ; then \
	      R_LIBS= $(R) CMD INSTALL $${file} || exit 1; \
	    fi; \
	  done; \
	done
	@touch Timestamp
Timestamp:
	@touch $@
	@sleep 1
	@find $(srcdir) -name '*.tar.gz' -exec touch {} . \; 

R docs:

install: installdirs
installdirs:
install-strip: install

uninstall:

mostlyclean: clean
clean:
	-@test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)
distclean: clean
	-@test -z "$(DISTCLEANFILES)" || rm -f $(DISTCLEANFILES)
maintainer-clean: distclean

distdir: $(DISTFILES)
	@for f in $(DISTFILES) `cd $(srcdir) && ls *.tar.gz`; do \
	  test -f $(distdir)/$${f} \
	    || ln $(srcdir)/$${f} $(distdir)/$${f} 2>/dev/null \
	    || cp -p $(srcdir)/$${f} $(distdir)/$${f}; \
	done
