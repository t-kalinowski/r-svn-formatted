#   File:       Makefile.mac#   Target:     mdaLib  #   Created:    Jago, Sep 2001, Stefano M. Iacus##   This script assumes that R binary already exists in #   folder 'src/macintosh/bin'##   Tested with:##   MPW Shell 3.6d7#   MrC C Compiler 5.0.0d3c1#   Universal Headers 3.4#   CarbonLib 1.4#DLib            = mdaMAKEFILE        = Makefile.mac¥MondoBuild¥    = {MAKEFILE}  # Make blank to avoid rebuilds when makefile is modifiedMacF2C     		=  f2cF2COpt	        =   -A -E -ec -!R -r8 -w8 -w66 -Nq150 -Nx200 -Ns801 -Nc20 -Nn401 -NL200 -NC99 -Nl256 F2CDir       	=  ::::macintosh:f2c:Includes        = -i ::::include: ¶				  -i ::::macintosh: ¶                  -i {F2CDir}				  Sym-PPC         = -sym offPPCCOptions     = {Includes} {Sym-PPC} -opt off -includes unix -w 35,2,23 -shared_lib_export on -d HAVE_CONFIG_H -d Macintosh ¶                  -d TARGET_API_MAC_CARBON=1 -prefix RHeaders.h -align power -enum int				  ### Library directory ###LibDir     		= :::::library:{DLib}:libs### Source Files ### SrcFiles        =  	¶bruto.c ¶bsplvd.c ¶bvalue.c ¶dcalcvar.c ¶dmarss.c ¶dorthreg.c ¶dqrreg.c ¶interv.c ¶mspline.c ¶sbart.c ¶sgram.c ¶sinerp.c ¶sknotl.c ¶sortdi.c ¶splsm.c ¶sslvrg.c ¶stxwx.c ¶tmatch.c ¶_BLNK__com.c ¶xxxsbart_com.c ¶::::main:xxxpr.c### Object Files ###ObjFiles-PPC    =  ¶bruto.o ¶bsplvd.o ¶bvalue.o ¶dcalcvar.o ¶dmarss.o ¶dorthreg.o ¶dqrreg.o ¶interv.o ¶mspline.o ¶sbart.o ¶sgram.o ¶sinerp.o ¶sknotl.o ¶sortdi.o ¶splsm.o ¶sslvrg.o ¶stxwx.o ¶tmatch.o ¶_BLNK__com.o ¶xxxsbart_com.o ¶::::main:xxxpr.oFortFiles		=	¶bruto.f ¶bsplvd.f ¶bvalue.f ¶dcalcvar.f ¶dmarss.f ¶dorthreg.f ¶dqrreg.f ¶mspline.f ¶sbart.f ¶sgram.f ¶sinerp.f ¶sknotl.f ¶sortdi.f ¶splsm.f ¶sslvrg.f ¶stxwx.f ¶tmatch.f ¶::::main:xxxpr.f### Libraries ###LibFiles-PPC    =  ¶				  "{SharedLibraries}CarbonLib" ¶				  "{PPCLibraries}PPCCRuntime.o" ¶				  "{SharedLibraries}StdCLib" ¶				  ":::::R"  ¶				  ":::::f2cLib"### Default Rules ### .o  Ä  .c  {¥MondoBuild¥}	{PPCC} {depDir}{default}.c -o {targDir}{default}.o {PPCCOptions}.c Ä .f {¥MondoBuild¥} {FortFiles}	{MacF2C} {F2COpt} {depDir}{default}.f	### Build Rules ###{DLib}Lib  ÄÄ  {ObjFiles-PPC} {LibFiles-PPC} {¥MondoBuild¥} #create export table    if `Exists :expvar`	 delete :expvar	end    catenate Å.x > expvar# checks if modules directory exsists    if ! `Exists -d "{LibDir}"`	 echo "Creating libs directory" "{LibDir}"      NewFolder "{LibDir}"    end# Builds the library	PPCLink ¶		-o {LibDir}:{DLib}Lib ¶		{ObjFiles-PPC} ¶		{LibFiles-PPC} ¶		{Sym-PPC} ¶		-mf -d ¶		-t 'shlb' ¶		-c '????' ¶		-xm s ¶		-@export expvar	### Required Dependencies #### f2c dependenciesbruto.c Ä bruto.fbsplvd.c Ä bsplvd.fbvalue.c Ä bvalue.fdcalcvar.c Ä dcalcvar.fdmarss.c Ä dmarss.fdorthreg.c Ä dorthreg.fdqrreg.c Ä dqrreg.fmspline.c Ä mspline.fsbart.c Ä sbart.fsgram.c Ä sgram.fsinerp.c Ä sinerp.fsknotl.c Ä sknotl.fsortdi.c Ä sortdi.fsplsm.c Ä splsm.fsslvrg.c Ä sslvrg.fstxwx.c Ä stxwx.ftmatch.c Ä tmatch.f_BLNK__com.c Ä dmarss.fxxxsbart_com.c Ä sbart.f::::main:xxxpr.c Ä ::::main:xxxpr.fbruto.o Ä bruto.cbsplvd.o Ä bsplvd.cbvalue.o Ä bvalue.cdcalcvar.o Ä dcalcvar.cdmarss.o Ä dmarss.c dorthreg.o Ä dorthreg.cdqrreg.o Ä dqrreg.cmspline.o Ä mspline.csbart.o Ä sbart.csgram.o Ä sgram.csinerp.o Ä sinerp.csknotl.o Ä sknotl.csortdi.o Ä sortdi.csplsm.o Ä splsm.csslvrg.o Ä sslvrg.cstxwx.o Ä stxwx.ctmatch.o Ä tmatch.c_BLNK__com.o Ä _BLNK__com.cxxxsbart_com.o Ä xxxsbart_com.c::::main:xxxpr.o Ä ::::main:xxxpr.c### Optional Dependencies ###### Build this target to generate "include file" dependencies. ###Dependencies  Ä  $OutOfDate	MakeDepend ¶		-append {MAKEFILE} ¶		-ignore "{CIncludes}" ¶		-objdir ":" ¶		-objext .o ¶		{Includes} ¶		{SrcFiles}