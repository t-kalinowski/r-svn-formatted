#   File:       Makefile.mac#   Target:     multivLib  #   PkgVer:		1.1-2#   Created:    Jago, Sep 2001, Stefano M. Iacus##   This script assumes that R binary already exists in #   folder 'src/macintosh/bin'##   Tested with:##   MPW Shell 3.6d7#   MrC C Compiler 5.0.0d3c1#   Universal Headers 3.4#   CarbonLib 1.4#DLib            = multivMAKEFILE        = Makefile.mac¥MondoBuild¥    = {MAKEFILE}  # Make blank to avoid rebuilds when makefile is modifiedMacF2C     		=  f2cF2COpt	        =   -A -E -ec -!R -r8 -w8 -w66 -Nq150 -Nx200 -Ns801 -Nc20 -Nn401 -NL200 -NC99 -Nl256 F2CDir       	=  ::::macintosh:f2c:Includes        = -i ::::include: ¶				  -i ::::macintosh: ¶                  -i {F2CDir}				  Sym-PPC         = -sym offPPCCOptions     = {Includes} {Sym-PPC} -opt off -includes unix -w 35,2,23 -shared_lib_export on -d HAVE_CONFIG_H -d Macintosh ¶                  -d TARGET_API_MAC_CARBON=1 -prefix RHeaders.h -align power -enum int				  ### Library directory ###LibDir     		= :::::library:{DLib}:libs### Source Files ### SrcFiles        =  	¶bea.c ¶ca.c ¶hc.c ¶hcmovie.c ¶members.c ¶partition.c ¶pca.c ¶sammon.c ¶::::main:xxxpr.c### Object Files ###ObjFiles-PPC    =   ¶bea.o ¶ca.o ¶hc.o ¶hcmovie.o ¶members.o ¶partition.o ¶pca.o ¶sammon.o ¶::::main:xxxpr.oFortFiles		=¶bea.f ¶ca.f ¶hc.f ¶hcmovie.f ¶members.f ¶partition.f ¶pca.f ¶sammon.f ¶::::main:xxxpr.f### Libraries ###LibFiles-PPC    =  ¶				  "{SharedLibraries}CarbonLib" ¶				  "{PPCLibraries}PPCCRuntime.o" ¶				  "{SharedLibraries}StdCLib" ¶				  ":::::R"  ¶				  ":::::f2cLib"### Default Rules ### .o  Ä  .c  {¥MondoBuild¥}	{PPCC} {depDir}{default}.c -o {targDir}{default}.o {PPCCOptions}.c Ä .f {¥MondoBuild¥} {FortFiles}	{MacF2C} {F2COpt} {depDir}{default}.f	### Build Rules ###{DLib}Lib  ÄÄ  {ObjFiles-PPC} {LibFiles-PPC} {¥MondoBuild¥} #create export table    if `Exists :expvar`	 delete :expvar	end    catenate Å.x > expvar# checks if modules directory exsists    if ! `Exists -d "{LibDir}"`	 echo "Creating libs directory" "{LibDir}"      NewFolder "{LibDir}"    end# Builds the library	PPCLink ¶		-o {LibDir}:{DLib}Lib ¶		{ObjFiles-PPC} ¶		{LibFiles-PPC} ¶		{Sym-PPC} ¶		-mf -d ¶		-t 'shlb' ¶		-c '????' ¶		-xm s ¶		-@export expvar	### Required Dependencies #### f2c dependenciesbea.c Ä bea.fca.c Ä ca.fhc.c Ä hc.fhcmovie.c Ä hcmovie.fmembers.c Ä members.fpartition.c Ä partition.fpca.c Ä pca.fsammon.c Ä sammon.f::::main:xxxpr.c Ä ::::main:xxxpr.f bea.o Ä bea.cca.o Ä ca.chc.o Ä hc.chcmovie.o Ä hcmovie.cmembers.o Ä members.cpartition.o Ä partition.cpca.o Ä pca.csammon.o Ä sammon.c::::main:xxxpr.o Ä ::::main:xxxpr.c### Optional Dependencies ###### Build this target to generate "include file" dependencies. ###Dependencies  Ä  $OutOfDate	MakeDepend ¶		-append {MAKEFILE} ¶		-ignore "{CIncludes}" ¶		-objdir ":" ¶		-objext .o ¶		{Includes} ¶		{SrcFiles}