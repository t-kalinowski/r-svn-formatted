# ${RHOME}/src/unix/Makefile

srcdir = @srcdir@
top_srcdir = @top_srcdir@

include $(top_srcdir)/Makeconf

OBJ= \
	dataentry.o \
	devX11.o \
	devPS.o \
	dynload.o \
	edit.o \
	fileio.o \
	PostScript.o \
	rotated.o \
	system.o \
	devPicTeX.o

LIB=		../lib/libunix.a

$(LIB):		$(OBJ)
		$(AR) cr $(LIB) $(OBJ)
		$(RANLIB) $(LIB)

dynload.o:	dynload.c ../include/FFTab.h ../include/FFDecl.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

dataentry.o:	dataentry.h dataentry.c ../include/Defn.h
		$(CC) $(CFLAGS) $(X_CFLAGS) $(CPPFLAGS) -c dataentry.c

fileio.o:	fileio.c ../include/Fileio.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c fileio.c

rotated.o:	rotated.c rotated.h
		$(CC) $(CFLAGS) $(X_CFLAGS) $(CPPFLAGS) -c rotated.c

devX11.o:	devX11.c psx11.h ../include/Graphics.h ../include/Defn.h
		$(CC) $(CFLAGS) $(X_CFLAGS) $(CPPFLAGS) -c devX11.c

devPS.o:	devPS.c ../include/Graphics.h ../include/Defn.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c devPS.c

devPicTeX.o:	devPicTeX.c ../include/Graphics.h ../include/Defn.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c devPicTeX.c

system.o:	system.c ../include/Defn.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c system.c

clean:
		@echo Cleaning in src/unix
		@-rm -f *.o *.a

realclean:	clean
		@-rm -f Makefile
